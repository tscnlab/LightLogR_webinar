{
  "hash": "34a8fd996353e64c5114f46732bd23b2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Open and reproducible analysis of light exposure and visual experience data (Beginner)\"\nauthor: \n  - name: \"Johannes Zauner\"\n    affiliation: \"Technical University of Munich & Max Planck Institute for Biological Cybernetics, Germany\"\n    orcid: \"0000-0003-2171-4566\"\nlightbox: true\ncode-tools: true\ncode-link: true\ndate: last-modified\n---\n\n\n\n\n\n\n![](assets/Beginner_Heading.png)\n\n## Preface\n\nWearables are increasingly used in research because they combine personalized, high‑temporal‑resolution measurements with outcomes related to well‑being and health. In sleep research, wrist‑worn actimetry is long established. As circadian factors gain prominence across disciplines, interest in personal light exposure has grown, spurring a variety of new devices, form factors, and sensor technologies. This trend also brings many researchers into settings where data from wearables must be ingested, processed, and analyzed. Beyond circadian science, measurements of light and optical radiation are central to UV‑related research and to questions of ocular health and development.\n\n`LightLogR` is designed to facilitate the principled import, processing, and visualization of such wearable‑derived data. This document offers an accessible entry point to `LightLogR` via a self‑contained analysis script that you can modify to familiarize yourself with the package. Full documentation of `LightLogR`’s features is available on the [documentation page](https://tscnlab.github.io/LightLogR/), including numerous tutorials.\n\nThis document is intended for researchers with no prior experience using `LightLogR`, and assumes general familiarity with the R statistical software, ideally in a data‑science context[^1].\n\n[^1]: If you are new to the R language or want a great introduction to R for data science, we can recommend the free online book [R for Data Science (second edition)](https://r4ds.hadley.nz) by Hadley Wickham, Mine Cetinkaya-Rundel, and Garrett Grolemund.\n\n## How this page works\n\nThis document contains the script for the online course series as a [Quarto](https://quarto.org) script, which can be executed on a local installation of R. Please ensure that all libraries are installed prior to running the script.\n\nIf you want to test `LightLogR` without installing R or the package, try the [script version running webR](beginner-live.qmd), for a autonymous but slightly reduced version.\n\nTo run this script, we recommend cloning or downloading the [GitHub repository](https://github.com/tscnlab/LightLogR_webinar) ([link to Zip-file](https://github.com/tscnlab/LightLogR_webinar/archive/refs/heads/main.zip)) and running `beginner.qmd`. Alternatively, you can download the [main script](https://raw.githubusercontent.com/tscnlab/LightLogR_webinar/refs/heads/main/beginner.qmd), the [preview functions](https://github.com/tscnlab/LightLogR_webinar/tree/main/scripts), and the [data](https://github.com/tscnlab/LightLogR_webinar/tree/main/data) separately - though this is more laborious and error‑prone. In both cases, you’ll need to install the required packages. A quick way is to run:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrenv::restore()\n```\n:::\n\n\n\n\n\n\n## Installation\n\n`LightLogR` is hosted on [CRAN](https://cran.r-project.org/package=LightLogR), which means it can easily be installed from any R console through the following command:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"LightLogR\")\n```\n:::\n\n\n\n\n\n\nAfter installation, it becomes available for the current session by loading the package. We also require a number of packages. Most are automatically downloaded with `LightLogR`, but need to be loaded separately. Some might have to be installed separately on your local machine.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(LightLogR) #load the package\nlibrary(tidyverse) #a package for tidy data science\nlibrary(gt) #a package for great tables\n#the following packages are needed for preview functions:\nlibrary(cowplot)\nlibrary(legendry)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(sf)\nlibrary(patchwork)\nlibrary(rlang)\nlibrary(glue)\nlibrary(gtExtras)\nlibrary(svglite)\nlibrary(downlit)\n\n#the next two scripts will be integrated into the next release of LightLogR\n#but have to be loaded separately for now (≤0.9.3)\nsource(\"scripts/overview_plot.R\")\nsource(\"scripts/summary_table.R\")\n\n# Set a global theme for the background\ntheme_set(\n    theme(\n      panel.background = element_rect(fill = \"white\", color = NA)\n    )\n)\n```\n:::\n\n\n\n\n\n\nThat is all we need to get started. Let's make a quick visualization of a sample dataset that comes preloaded with the package. It contains six days of data from a participant, with concurrent measurements of environmental light exposure at the university rooftop. You can play with the arguments to see how it changes the output.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsample.data.environment |> #sample data\n  gg_days(geom = \"ribbon\", \n          aes_fill = Id, \n          alpha = 0.6, \n          facetting = FALSE\n          ) |> \n  gg_photoperiod(c(47.1, 9)) +\n  coord_cartesian(expand = FALSE)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n\n\n\n\n\n## Import\n\n### File formats\n\nTo work with `LightLogR`, we need some data from wearables. To the side are screenshots from three example formats to highlight the structure and differences. You can enlarge by clicking at them.\n\n::: {.column-margin}\n![ActLumus file structure](assets/File_Actlumus.png)\n\n![Speccy file structure](assets/File_Speccy.png)\n\n![nanoLambda file structure](assets/File_nanoLambda.png)\n:::\n\n### Importing a file\n\nThese files must be loaded into the active session in a *tidy* format—each variable in its own column and each observation in its own row. `LightLogR`’s device‑specific `import` functions take care of this transformation. Each function requires:\n\n- filenames and paths to the wearable export files\n- the time zone in which the data were collected\n- (optional) participant identifiers\n\nWe begin with a dataset bundled with the package, recorded with the `ActLumus` device. The data were collected in *Tübingen, Germany*, so the correct time zone is `Europe/Berlin`.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#accessing the filepath of the package to reach the sample dataset:\nfilename <- \n  system.file(\"extdata/205_actlumus_Log_1020_20230904101707532.txt.zip\", \n              package = \"LightLogR\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset <- import$ActLumus(filename, tz = \"Europe/Berlin\", manual.id = \"P1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 61'016 observations across 1 Ids from 1 ActLumus-file(s).\nTimezone set is Europe/Berlin.\n\nFirst Observation: 2023-08-28 08:47:54\nLast Observation: 2023-09-04 10:17:04\nTimespan: 7.1 days\n\nObservation intervals: \n  Id    interval.time     n pct  \n1 P1    10s           61015 100% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-6-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nThe import function also provides rich summary information about the dataset—such as the time span covered, sampling intervals, and an overview plot. Most import settings are configurable. To learn more, consult the function documentation online or via `?import`. For a quick visual overview of the data across days, draw a timeline with `gg_days()`.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_days()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-7-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\nWe will go into much more detail about visualizations in the sections below.\n\n### Importing from a different device\n\nEach device exports data in its own format, necessitating device‑specific handling. `LightLogR` includes import wrapper functions for many devices. You can retrieve the list supported by your installed version with the following function:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsupported_devices()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Actiwatch_Spectrum\"    \"Actiwatch_Spectrum_de\" \"ActLumus\"             \n [4] \"ActTrust\"              \"Circadian_Eye\"         \"Clouclip\"             \n [7] \"DeLux\"                 \"GENEActiv_GGIR\"        \"Kronowise\"            \n[10] \"LiDo\"                  \"LightWatcher\"          \"LIMO\"                 \n[13] \"LYS\"                   \"MotionWatch8\"          \"nanoLambda\"           \n[16] \"OcuWEAR\"               \"Speccy\"                \"SpectraWear\"          \n[19] \"VEET\"                 \n```\n\n\n:::\n:::\n\n\n\n\n\n\nWe will now import from two other devices to showcase the differences.\n\n#### Speccy\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilename <- \"data/Speccy.csv\"\ndataset <- import$Speccy(filename, tz = \"Europe/Berlin\", manual.id = \"P1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 1'336 observations across 1 Ids from 1 Speccy-file(s).\nTimezone set is Europe/Berlin.\n\nFirst Observation: 2023-08-31 09:34:26\nLast Observation: 2023-09-01 07:49:26\nTimespan: 22 hours\n\nObservation intervals: \n  Id    interval.time        n pct  \n1 P1    60s (~1 minutes)  1335 100% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-9-1.png){width=480}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_days()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-10-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\n#### nanoLambda\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilename <- \"data/nanoLambda.csv\"\ndataset <- import$nanoLambda(filename, tz = \"Europe/Berlin\", manual.id = \"P1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 19 observations across 1 Ids from 1 nanoLambda-file(s).\nTimezone set is Europe/Berlin.\n\nFirst Observation: 2020-04-13 13:38:54\nLast Observation: 2020-04-13 13:47:54\nTimespan: 9 mins\n\nObservation intervals: \n  Id    interval.time     n pct  \n1 P1    30s              18 100% \n```\n\n\n:::\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-11-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nIf we try to visualize this dataset as we have done above, we get an error.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_day()\n```\n:::\n\n\n\n\n\n\nThis is because many `LightLogR` functions default to the melanopic EDI variable[^3]. However, the nanoLambda export does not include this variable. Therefore, we must explicitly specify which variable to display. Let’s inspect the available variables:\n\n[^3]: melanopic equivalent daylight-illuminance, CIE S026:2018 \n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> names()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Id\"                   \"File_Name\"            \"Device_Address\"      \n [4] \"Sensor_ID\"            \"Datetime\"             \"Is_Saturate\"         \n [7] \"Integration_Time(ms)\" \"Wavelength\"           \"Spectrum\"            \n[10] \"PPFD_Spectrum\"        \"Photopic_Lux\"         \"Cyanopic_Lux\"        \n[13] \"Melanopic_Lux\"        \"Rhodopic_Lux\"         \"Chloropic_Lux\"       \n[16] \"Erythropic_Lux\"       \"PPFD\"                 \"PPFD-R\"              \n[19] \"PPFD-G\"               \"PPFD-B\"               \"CCT\"                 \n[22] \"CRI\"                  \"XYZ\"                  \"xy\"                  \n[25] \"uv\"                   \"file.name\"           \n```\n\n\n:::\n:::\n\n\n\n\n\n\nYou can choose any numeric variable; here, we’ll use `Melanopic_Lux`, which is similar—though not identical—to melanopic EDI. To identify which argument to adjust, consult the [function documentation](https://tscnlab.github.io/LightLogR/reference/gg_day.html):\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n?gg_day()\n```\n:::\n\n\n\n\n\n\nUse the `y.axis` argument to select the variable. Also update the axis title via `y.axis.label`; otherwise the default label will refer to melanopic EDI.\n\nBecause this dataset spans only a short interval of about 9 minutes, we’ll visualize it with `gg_day()`, which uses clock time on the x‑axis. There are a few other differences to `gg_days()`, which we will see in the sections below.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_day(y.axis = Melanopic_Lux, y.axis.label = \"melanopic illuminance\")\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-15-1.png){width=576}\n:::\n:::\n\n\n\n\n\n\nIn summary, importing from different devices is typically as simple as specifying the device name. Some devices require additional arguments; consult the `?import` help for details.\n\n### Importing more than one file\n\nIn typical studies, you’ll work with multiple participants, and importing each file individually is cumbersome. `LightLogR` supports batch imports; simply pass multiple files to the import function. In this tutorial, we’ll use three files from three participants, all drawn from the open‑access personal light‑exposure dataset by [Guidolin et al. 2025](https://github.com/MeLiDosProject/GuidolinEtAl_Dataset_2025)[^4]. All data were collected with the `ActLumus` device type.\n\n[^4]: Guidolin, C., Zauner, J., & Spitschan, M., (2025). Personal light exposure dataset for Tuebingen, Germany (Version 1.0.0) [Data set]. URL: https://github.com/MeLiDosProject/GuidolinEtAl_Dataset_2025. DOI: doi.org/10.5281/zenodo.16895188\n\nWhen importing multiple files, keep the following in mind:\n\n- All files must originate from the same device type, share the same export structure, and use the same time‑zone specification. If they differ, import them separately.\n- Be deliberate about participant‑ID assignment. The `manual.id` argument used above would assign the same ID to all imported data in a batch. If a file contains a column specifying the `Id`, you can point to that column; more often, the identifier is encoded in the filename. If you omit ID arguments, the filename is used as `Id` by default. Because filenames are often verbose, you will typically extract only the participant code. In our three example files, the relevant IDs are `216`, `218`, and `219`.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilenames <- list.files(\"data\", pattern = \"actlumus\", full.names = TRUE)\nfilenames\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"data/216_actlumus_Log_1382_20231009130709885.txt\"\n[2] \"data/218_actlumus_Log_1020_2023102309585329.txt\" \n[3] \"data/219_actlumus_Log_1382_20231023113046652.txt\"\n```\n\n\n:::\n:::\n\n\n\n\n\n\nIf filenames follow a consistent pattern, you can instruct the import function to extract only the participant code from each name. In our case, the first three digits encode the ID. We can specify this with a regular expression: `^(\\d{3})`. This pattern matches the first three digits at the start of the filename and captures them (`^` = start of string, `\\d` = digit, `{3}` = exactly three, `(`& `)` = encloses the part of the pattern we actually want). If you’re not familiar with regular expressions, they can look like a jumble of ASCII characters, but they succinctly express patterns. Large language models are quite good at proposing regexes and explaining their components, so consider prompting one when you need a new pattern. With that, we can import our files.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npattern <- \"^(\\\\d{3})\"\ndataset <- import$ActLumus(filenames, tz = \"Europe/Berlin\", auto.id = pattern)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuccessfully read in 184'333 observations across 3 Ids from 3 ActLumus-file(s).\nTimezone set is Europe/Berlin.\n\nFirst Observation: 2023-09-29 14:40:52\nLast Observation: 2023-10-23 11:29:10\nTimespan: 24 days\n\nObservation intervals: \n   Id    interval.time            n pct  \n 1 216   10s                  61760 100% \n 2 216   19s                      1 0%   \n 3 216   240718s (~2.79 days)     1 0%   \n 4 218   8s                       1 0%   \n 5 218   10s                  60929 100% \n 6 218   11s                      1 0%   \n 7 219   9s                       1 0%   \n 8 219   10s                  61634 100% \n 9 219   16s                      1 0%   \n10 219   583386s (~6.75 days)     1 0%   \n```\n\n\n:::\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-17-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nThe overview plot is now more informative: it shows how the datasets align across time and highlights extended gaps due to missing data. We will return to the terminology of `implicit missingness` shortly.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_days()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-18-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\nDirect plotting highlights the extended gaps in the recordings. We’ll apply a package function that removes days with insufficient coverage to address this. For now, we can ignore the details: any participant‑day with more than 80% missing data will be excluded.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_red <-\n  dataset |>\n  remove_partial_data(\n    Variable.colname = MEDI,\n    threshold.missing = 0.8,\n    by.date = TRUE,\n    handle.gaps = TRUE\n  )\n\ndataset_red |> gg_days()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-19-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\nThat concludes the import section of the tutorial; next, we turn to visualization functions. For simplicitly, we will only carry a small selection of variables forward. That increases the calculation speed of many functions. Feel free to choose a different set of variables.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset <- dataset |> select(Id, Datetime, PIM, MEDI)\n```\n:::\n\n\n\n\n\n\n### How to find the correct time zone name?\n\nA final note on imports: the function accepts only valid [IANA time‑zone](https://www.iana.org/time-zones) identifiers. You can retrieve the full list (with exact spellings) using:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nOlsonNames() |> sample(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Australia/Currie\"            \"Europe/Riga\"                \n[3] \"Europe/Vaduz\"                \"America/Kentucky/Louisville\"\n[5] \"Etc/GMT+7\"                  \n```\n\n\n:::\n:::\n\n\n\n\n\n\n## Basic Visualizations\n\nVisualization is central to exploratory data analysis and to communicating results in publications and presentations. `LightLogR` provides a suite of plotting functions built on `ggplot2` and the *Grammar of Graphics*. As a result, the plots are composable, flexible, and straightforward to modify.\n\n### `gg_days()`\n\n`gg_days()` displays a timeline per each `Id`. It constrains the x‑axis to complete days and, by default, uses a line geometry. The function works best for up to a handful of Id's and 1-2 weeks of data at most.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_red |> gg_days(aes_col = Id) #try interactive = TRUE\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-22-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n### `gg_day()`\n\n`gg_day()` complements `gg_days()` by focusing on individual calendar days. By default, it places all observations from a selected day into a single panel, regardless of source. This layout is configurable. For readability, `gg_day()` works best with ~1–4 days of data (at most about a week) to keep plot height manageable.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_red |> \n  gg_day(aes_col = Id, \n         format.day = \"%A\", # switch from dates to week-days\n         size = 0.5, # reduce point size\n         x.axis.breaks = hms::hms(hours = c(0, 12))) + #12-hour grid \n  guides(color = \"none\") + # remove color legend\n  facet_grid(rows = vars(Day.data), cols = vars(Id), switch = \"y\") # Id x Day\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-23-1.png){width=768}\n:::\n:::\n\n\n\n\n\n\n### `gg_overview()`\n\n`gg_overview()` is invoked automatically by the import function but can also be called independently and customized. By default, each `Id` appears as a separate row on the y‑axis. For longitudinal datasets with large gaps between recordings, you can group observations (e.g., by a `session` variable) to distinguish distinct measurement periods (see margin figure). The function works nice for many participants and long collection periods, by setting their recording periods in relation. By default, it will also show times of implicitly missing data.\n\n::: {.column-margin}\n![Grouping the data by `Id` and measurement `session` provides easy overviews for longitudinal datasets](assets/Overview.png)\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  gg_overview(col = Id) + \n  ggsci::scale_color_jco() #nice color palette\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-24-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\n### `gg_heatmap()`\n\n`gg_heatmap()` renders one calendar day per row within each data‑collection period. It is well‑suited to long monitoring spans and scales effectively to many participants. To highlight patterns that cross midnight, it supports a `doubleplot` option that displays a duplicate of the day, or the next day with an offset.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_red |> gg_heatmap()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Looking at 5-minute bins of data\ndataset_red |> gg_heatmap(unit = \"5 mins\")\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-26-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#showing data as doubleplots. Time breaks have to be reduced for legibility\ndataset_red |> \n  gg_heatmap(doubleplot = \"next\", \n             time.breaks = c(0, 12, 24, 36, 48)*3600\n             )\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-27-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Actogram-style heatmap (<10 lx mel EDI in this case)\ndataset_red |> \n  gg_heatmap(MEDI < 10,\n             doubleplot = \"next\", \n             time.breaks = c(0, 12, 24, 36, 48)*3600,\n             fill.limits = c(0, NA), \n             fill.remove = TRUE, \n             fill.title = \"<10lx mel EDI\"\n             ) +\n  scale_fill_manual(values = c(\"TRUE\" = \"black\", \"FALSE\" = \"#00000000\"))\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-28-1.png){width=960}\n:::\n:::\n\n\n\n\n\n\n### What about non-light variables?\n\n`LightLogR` is optimized for wearable light sensors and selects sensible defaults: for example, melanopic EDI (when available) and settings suited to typical light‑exposure distributions. Nevertheless, the functions are measurement‑agnostic and can be applied to non‑light variables. Consult the function documentation to see which arguments to adjust for your variable of interest. For example, here we plot an activity variable:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_red |> \n  gg_days(\n    y.axis = PIM, #variable PIM\n    y.scale = \"identity\", #set a linear scale\n    y.axis.breaks = waiver(), #choose standard axis breaks according to values\n    y.axis.label = \"Proportional integration mode (PIM)\"\n  ) +\n  coord_cartesian(ylim = c(0, 5000))\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-29-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n\n## Validation\n\nCurrently, `LightLogR`’s validation aims to ensure a regular, uninterrupted time series for each participant. Additional features are planned.\n\nThe figures at the side summarize the gap terminology used in `LightLogR` and illustrate how `gap_handler()` fills implicit missing data.\n\n::: {.column-margin}\n![Terminology of gaps in `LightLogR`](assets/gap_terminology.png)\n\n![`gap_handler()` identifies the time series’ `dominant epoch` (the most common sampling interval) and fills `NA` entries between the first and last observation. By default, no observations are dropped, so irregular samples are preserved.](assets/gap_handler.png)\n:::\n\nTo quickly assess whether a dataset contains (implicit) gaps or irregular sampling, use the following diagnostic helpers:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> has_gaps()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\ndataset |> has_irregulars()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n\n\n\n\nWe can then quickly visualize where these issues occur within the affected days.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_gaps(group.by.days = TRUE, show.irregulars = TRUE)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-31-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nThis function can be slow when a dataset contains many gaps or irregular samples. If needed, pre‑filter the data or adjust the function’s arguments.\n\nIn our example, we identify eight participant‑days with gaps:\n\n- **Three straightforward cases:** data collection ends around noon on Monday, leaving the remainder of the day missing. By default, the function evaluates complete calendar days (this is configurable). These days only require converting implicit gaps into explicit missing values.\n- **Two pre‑trial snippets:** brief measurements occur on the Friday or Monday preceding the trial—likely test recordings. These days are outside the study window and should be removed entirely.\n- **Three early irregularities:** irregular sampling appears shortly after data collection starts. This most likely reflects a test recording immediately before the device was handed to the participant. Trimming this initial segment eliminates the irregularity and the rest of the day can be changed to explicit missingness.\n\n### Preparing the dataset\n\nThere are several ways to address these issues. We will showcase three in the next sections.\n\n#### 1. Set the maximum length of the dataset.\n\nIf the study follows a fixed‑length protocol, you can enforce a maximum observation window (e.g., 7 days) by trimming from the beginning so that each participant’s series has the same duration. This approach preserves participant‑specific end times, which must meaningfully reflect protocol completion; otherwise, you risk cutting away valid data.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \nfilter(\n  Datetime > (max(Datetime) - days(7))\n  ) |> \n  gg_gaps(group.by.days = TRUE, show.irregulars = TRUE)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-32-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nThe remaining gaps are simple start‑ and end‑day truncations.\n\n#### 2. Remove the first values from the dataset\n\nYou can remove a fixed number of observations from the beginning of each participant’s series. This approach is helpful when the exact total measurement duration is not critical—for example, to discard brief pre‑trial test recordings or initial device‑stabilization periods.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  slice_tail(n = -(3*60*6)) |> \n  gg_gaps(group.by.days = TRUE, show.irregulars = TRUE)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-33-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\nThe results are similarly effective.\n\n#### 3. Trim with a list\n\nThe most robust way to enforce sensible measurement windows is to supply a table of trial `start` and `end` timestamps (per participant) and filter the time series accordingly. In this tutorial we create that table *on the fly*; in practice, it is typically stored in a CSV or Excel file. The `add_states()` function provides an effective interface between the two datasets: it aligns by identifier and time, adds state information (e.g., “in‑trial”), and enables precise trimming. Ensure that the identifying variables (e.g., `Id`) are named identically across files.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#create a dataframe of trial times\ntrial_times <-\n  data.frame(\n    Id = c(\"216\", \"218\", \"219\"),\n    start = c(\n      \"02.10.2023  12:30:00\",\n      \"16.10.2023  12:00:00\",\n      \"16.10.2023  12:00:00\"\n    ),\n    end = c(\n      \"09.10.2023  12:30:00\",\n      \"23.10.2023  12:00:00\",\n      \"23.10.2023  12:00:00\"\n    ),\n    trial = TRUE\n  ) |>\n  mutate(across(\n    c(start, end),\n    \\(x) parse_date_time(x, order = \"%d%m%y %H%M%S\", tz = \"Europe/Berlin\")\n  )) |>\n  group_by(Id)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# filter dataset by trial time\ndataset <-\n  dataset |>\n  add_states(trial_times) |>\n  dplyr::filter(trial) |>\n  select(-trial)\n\ndataset |> \n  gg_gaps(group.by.days = TRUE, show.irregulars = TRUE)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-35-1.png){width=480}\n:::\n:::\n\n\n\n\n\n\n### `gap_table()`\n\nWe can summarize each dataset’s regularity and missingness in a table. Note that this function may be slow when many gaps are present.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gap_table() |> cols_hide(contains(\"_n\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kzipscqmvx\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kzipscqmvx table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kzipscqmvx thead, #kzipscqmvx tbody, #kzipscqmvx tfoot, #kzipscqmvx tr, #kzipscqmvx td, #kzipscqmvx th {\n  border-style: none;\n}\n\n#kzipscqmvx p {\n  margin: 0;\n  padding: 0;\n}\n\n#kzipscqmvx .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kzipscqmvx .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kzipscqmvx .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kzipscqmvx .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kzipscqmvx .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kzipscqmvx .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kzipscqmvx .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kzipscqmvx .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kzipscqmvx .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kzipscqmvx .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kzipscqmvx .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kzipscqmvx .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kzipscqmvx .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kzipscqmvx .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kzipscqmvx .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kzipscqmvx .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kzipscqmvx .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kzipscqmvx .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kzipscqmvx .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kzipscqmvx .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kzipscqmvx .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kzipscqmvx .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kzipscqmvx .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kzipscqmvx .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kzipscqmvx .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kzipscqmvx .gt_left {\n  text-align: left;\n}\n\n#kzipscqmvx .gt_center {\n  text-align: center;\n}\n\n#kzipscqmvx .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kzipscqmvx .gt_font_normal {\n  font-weight: normal;\n}\n\n#kzipscqmvx .gt_font_bold {\n  font-weight: bold;\n}\n\n#kzipscqmvx .gt_font_italic {\n  font-style: italic;\n}\n\n#kzipscqmvx .gt_super {\n  font-size: 65%;\n}\n\n#kzipscqmvx .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kzipscqmvx .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kzipscqmvx .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kzipscqmvx .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kzipscqmvx .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kzipscqmvx .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kzipscqmvx .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kzipscqmvx .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kzipscqmvx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_title gt_font_normal\" style>Summary of available and missing data</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Variable: melanopic EDI</td>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th rowspan=\"1\" colspan=\"1\" scope=\"col\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"5\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"data_spanner\">\n        <div class=\"gt_column_spanner\">Data</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"8\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"missing_spanner\">\n        <div class=\"gt_column_spanner\">Missing</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Regular\">\n        <div class=\"gt_column_spanner\">Regular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"irregular_spanner\">\n        <div class=\"gt_column_spanner\">Irregular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Range\">\n        <div class=\"gt_column_spanner\">Range</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"interval_spanner\">\n        <div class=\"gt_column_spanner\">Interval</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"gap_spanner\">\n        <div class=\"gt_column_spanner\">Gaps</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"implicit_spanner\">\n        <div class=\"gt_column_spanner\">Implicit</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"explicit_spanner\">\n        <div class=\"gt_column_spanner\">Explicit</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_irregulars\">n<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1,2</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_duration\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"interval\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_gaps\">N</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_gap_duration\">ø</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit_pct\">%</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"grand_summary_stub_1\" scope=\"row\" class=\"gt_row gt_left gt_stub gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\"><span data-qmd-base64=\"KipPdmVyYWxsKio=\"><span class='gt_from_md'><strong>Overall</strong></span></span></th>\n<td headers=\"grand_summary_stub_1 available_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">2w 6d 21h 28m 10s</td>\n<td headers=\"grand_summary_stub_1 available_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">87.1%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 number_irregulars\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"grand_summary_stub_1 total_duration\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3w 3d</td>\n<td headers=\"grand_summary_stub_1 interval\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10</td>\n<td headers=\"grand_summary_stub_1 number_gaps\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">6</td>\n<td headers=\"grand_summary_stub_1 mean_gap_duration\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">1d 13h 15m 55s</td>\n<td headers=\"grand_summary_stub_1 missing_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">3d 2h 31m 50s</td>\n<td headers=\"grand_summary_stub_1 missing_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">12.9%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_implicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3d 2h 31m 50s</td>\n<td headers=\"grand_summary_stub_1 missing_implicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">12.9%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_explicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"grand_summary_stub_1 missing_explicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">0.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"216 stub_1_1 available_data\" class=\"gt_row gt_center\">1w</td>\n<td headers=\"216 stub_1_1 available_data_pct\" class=\"gt_row gt_right\">87.5%</td>\n<td headers=\"216 stub_1_1 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"216 stub_1_1 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"216 stub_1_1 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"216 stub_1_1 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"216 stub_1_1 mean_gap_duration\" class=\"gt_row gt_right\">12h</td>\n<td headers=\"216 stub_1_1 missing_data\" class=\"gt_row gt_center\">1d</td>\n<td headers=\"216 stub_1_1 missing_data_pct\" class=\"gt_row gt_right\">12.5%</td>\n<td headers=\"216 stub_1_1 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"216 stub_1_1 missing_implicit_pct\" class=\"gt_row gt_right\">12.5%</td>\n<td headers=\"216 stub_1_1 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"216 stub_1_1 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"218\">218</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"218 stub_1_2 available_data\" class=\"gt_row gt_center\">6d 21h 58m 50s</td>\n<td headers=\"218 stub_1_2 available_data_pct\" class=\"gt_row gt_right\">86.4%</td>\n<td headers=\"218 stub_1_2 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"218 stub_1_2 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"218 stub_1_2 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"218 stub_1_2 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"218 stub_1_2 mean_gap_duration\" class=\"gt_row gt_right\">13h 35s</td>\n<td headers=\"218 stub_1_2 missing_data\" class=\"gt_row gt_center\">1d 2h 1m 10s</td>\n<td headers=\"218 stub_1_2 missing_data_pct\" class=\"gt_row gt_right\">13.6%</td>\n<td headers=\"218 stub_1_2 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d 2h 1m 10s</td>\n<td headers=\"218 stub_1_2 missing_implicit_pct\" class=\"gt_row gt_right\">13.6%</td>\n<td headers=\"218 stub_1_2 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"218 stub_1_2 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"219\">219</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"219 stub_1_3 available_data\" class=\"gt_row gt_center\">6d 23h 29m 20s</td>\n<td headers=\"219 stub_1_3 available_data_pct\" class=\"gt_row gt_right\">87.2%</td>\n<td headers=\"219 stub_1_3 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"219 stub_1_3 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"219 stub_1_3 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"219 stub_1_3 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"219 stub_1_3 mean_gap_duration\" class=\"gt_row gt_right\">12h 15m 20s</td>\n<td headers=\"219 stub_1_3 missing_data\" class=\"gt_row gt_center\">1d 30m 40s</td>\n<td headers=\"219 stub_1_3 missing_data_pct\" class=\"gt_row gt_right\">12.8%</td>\n<td headers=\"219 stub_1_3 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d 30m 40s</td>\n<td headers=\"219 stub_1_3 missing_implicit_pct\" class=\"gt_row gt_right\">12.8%</td>\n<td headers=\"219 stub_1_3 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"219 stub_1_3 missing_explicit_pct\" class=\"gt_row gt_right\">0.0%</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> If n &gt; 0: it is possible that the other summary statistics are affected, as they are calculated based on the most prominent interval.</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span> Number of (missing or actual) observations</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span> Based on times, not necessarily number of observations</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n### `gap_handler()`\n\nApproximately 13% of the missing data are *implicit*—they arise from truncated start and end days. It is good practice to make these gaps explicit. Use `gap_handler(full.days = TRUE)` to fill implicit gaps to full‑day regularity. Then verify the result with `gap_table()`, the diagnostic helpers, and a follow‑up visualization:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset <- dataset |> gap_handler(full.days = TRUE)\ndataset |> gap_table() |> cols_hide(contains(\"_n\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ultvkoluth\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ultvkoluth table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ultvkoluth thead, #ultvkoluth tbody, #ultvkoluth tfoot, #ultvkoluth tr, #ultvkoluth td, #ultvkoluth th {\n  border-style: none;\n}\n\n#ultvkoluth p {\n  margin: 0;\n  padding: 0;\n}\n\n#ultvkoluth .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ultvkoluth .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ultvkoluth .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ultvkoluth .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ultvkoluth .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ultvkoluth .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ultvkoluth .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ultvkoluth .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ultvkoluth .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ultvkoluth .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ultvkoluth .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ultvkoluth .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ultvkoluth .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ultvkoluth .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ultvkoluth .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ultvkoluth .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ultvkoluth .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ultvkoluth .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ultvkoluth .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ultvkoluth .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ultvkoluth .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ultvkoluth .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ultvkoluth .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ultvkoluth .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ultvkoluth .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ultvkoluth .gt_left {\n  text-align: left;\n}\n\n#ultvkoluth .gt_center {\n  text-align: center;\n}\n\n#ultvkoluth .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ultvkoluth .gt_font_normal {\n  font-weight: normal;\n}\n\n#ultvkoluth .gt_font_bold {\n  font-weight: bold;\n}\n\n#ultvkoluth .gt_font_italic {\n  font-style: italic;\n}\n\n#ultvkoluth .gt_super {\n  font-size: 65%;\n}\n\n#ultvkoluth .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ultvkoluth .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ultvkoluth .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ultvkoluth .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ultvkoluth .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ultvkoluth .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ultvkoluth .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ultvkoluth .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ultvkoluth div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_title gt_font_normal\" style>Summary of available and missing data</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Variable: melanopic EDI</td>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th rowspan=\"1\" colspan=\"1\" scope=\"col\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"5\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"data_spanner\">\n        <div class=\"gt_column_spanner\">Data</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"8\" style=\"font-weight: bold; font-weight: bold;\" scope=\"colgroup\" id=\"missing_spanner\">\n        <div class=\"gt_column_spanner\">Missing</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Regular\">\n        <div class=\"gt_column_spanner\">Regular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"irregular_spanner\">\n        <div class=\"gt_column_spanner\">Irregular</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"Range\">\n        <div class=\"gt_column_spanner\">Range</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"1\" style=\"font-weight: bold;\" scope=\"col\" id=\"interval_spanner\">\n        <div class=\"gt_column_spanner\">Interval</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"gap_spanner\">\n        <div class=\"gt_column_spanner\">Gaps</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"implicit_spanner\">\n        <div class=\"gt_column_spanner\">Implicit</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"explicit_spanner\">\n        <div class=\"gt_column_spanner\">Explicit</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"available_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_irregulars\">n<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1,2</sup></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_duration\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"interval\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"number_gaps\">N</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_gap_duration\">ø</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_data_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_implicit_pct\">%</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"missing_explicit_pct\">%</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"grand_summary_stub_1\" scope=\"row\" class=\"gt_row gt_left gt_stub gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\"><span data-qmd-base64=\"KipPdmVyYWxsKio=\"><span class='gt_from_md'><strong>Overall</strong></span></span></th>\n<td headers=\"grand_summary_stub_1 available_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">2w 6d 21h 28m 10s</td>\n<td headers=\"grand_summary_stub_1 available_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">87.1%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 number_irregulars\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"grand_summary_stub_1 total_duration\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3w 3d</td>\n<td headers=\"grand_summary_stub_1 interval\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10</td>\n<td headers=\"grand_summary_stub_1 number_gaps\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">6</td>\n<td headers=\"grand_summary_stub_1 mean_gap_duration\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">1d 13h 15m 55s</td>\n<td headers=\"grand_summary_stub_1 missing_data\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">3d 2h 31m 50s</td>\n<td headers=\"grand_summary_stub_1 missing_data_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">12.9%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_implicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"grand_summary_stub_1 missing_implicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">0.0%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td>\n<td headers=\"grand_summary_stub_1 missing_explicit\" class=\"gt_row gt_center gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5; border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">3d 2h 31m 50s</td>\n<td headers=\"grand_summary_stub_1 missing_explicit_pct\" class=\"gt_row gt_right gt_grand_summary_row gt_grand_summary_row gt_last_grand_summary_row_top\" style=\"background-color: #E5E5E5;\">12.9%<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"216 stub_1_1 available_data\" class=\"gt_row gt_center\">1w</td>\n<td headers=\"216 stub_1_1 available_data_pct\" class=\"gt_row gt_right\">87.5%</td>\n<td headers=\"216 stub_1_1 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"216 stub_1_1 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"216 stub_1_1 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"216 stub_1_1 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"216 stub_1_1 mean_gap_duration\" class=\"gt_row gt_right\">12h</td>\n<td headers=\"216 stub_1_1 missing_data\" class=\"gt_row gt_center\">1d</td>\n<td headers=\"216 stub_1_1 missing_data_pct\" class=\"gt_row gt_right\">12.5%</td>\n<td headers=\"216 stub_1_1 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"216 stub_1_1 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"216 stub_1_1 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d</td>\n<td headers=\"216 stub_1_1 missing_explicit_pct\" class=\"gt_row gt_right\">12.5%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"218\">218</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"218 stub_1_2 available_data\" class=\"gt_row gt_center\">6d 21h 58m 50s</td>\n<td headers=\"218 stub_1_2 available_data_pct\" class=\"gt_row gt_right\">86.4%</td>\n<td headers=\"218 stub_1_2 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"218 stub_1_2 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"218 stub_1_2 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"218 stub_1_2 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"218 stub_1_2 mean_gap_duration\" class=\"gt_row gt_right\">13h 35s</td>\n<td headers=\"218 stub_1_2 missing_data\" class=\"gt_row gt_center\">1d 2h 1m 10s</td>\n<td headers=\"218 stub_1_2 missing_data_pct\" class=\"gt_row gt_right\">13.6%</td>\n<td headers=\"218 stub_1_2 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"218 stub_1_2 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"218 stub_1_2 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d 2h 1m 10s</td>\n<td headers=\"218 stub_1_2 missing_explicit_pct\" class=\"gt_row gt_right\">13.6%</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"14\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"219\">219</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\"></th>\n<td headers=\"219 stub_1_3 available_data\" class=\"gt_row gt_center\">6d 23h 29m 20s</td>\n<td headers=\"219 stub_1_3 available_data_pct\" class=\"gt_row gt_right\">87.2%</td>\n<td headers=\"219 stub_1_3 number_irregulars\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0</td>\n<td headers=\"219 stub_1_3 total_duration\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1w 1d</td>\n<td headers=\"219 stub_1_3 interval\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">10s</td>\n<td headers=\"219 stub_1_3 number_gaps\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">2</td>\n<td headers=\"219 stub_1_3 mean_gap_duration\" class=\"gt_row gt_right\">12h 15m 20s</td>\n<td headers=\"219 stub_1_3 missing_data\" class=\"gt_row gt_center\">1d 30m 40s</td>\n<td headers=\"219 stub_1_3 missing_data_pct\" class=\"gt_row gt_right\">12.8%</td>\n<td headers=\"219 stub_1_3 missing_implicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">0s</td>\n<td headers=\"219 stub_1_3 missing_implicit_pct\" class=\"gt_row gt_right\">0.0%</td>\n<td headers=\"219 stub_1_3 missing_explicit\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: grey80;\">1d 30m 40s</td>\n<td headers=\"219 stub_1_3 missing_explicit_pct\" class=\"gt_row gt_right\">12.8%</td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> If n &gt; 0: it is possible that the other summary statistics are affected, as they are calculated based on the most prominent interval.</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span> Number of (missing or actual) observations</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"14\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span> Based on times, not necessarily number of observations</td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> has_gaps()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\ndataset |> has_irregulars()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> gg_days(aes_col = Id)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-39-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n### `remove_partial_data()`\n\nIt is often necessary to set missingness thresholds at different levels (hour, day, participant). Typical questions include:\n\n- How much data may be missing within an hour before that hour is excluded?\n- How much data may be missing from a day before that day is excluded?\n- How much data may be missing for a participant before excluding them from further analyses?\n\n`remove_partial_data()` addresses these questions. It evaluates each group (by default, `Id`) and quantifies missingness either as an absolute duration or a relative proportion. Groups that exceed the specified threshold are discarded. A useful option is `by.date`, which performs the thresholding per calendar day (for removal) while leaving the output grouping unchanged. Note that missingness is determined by the amount of data points in each group, relative to NA values.\n\nFor this tutorial, we will remove any day with more than one hour of missing data—this effectively drops both partial Mondays:\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset <- \n  dataset |> \n  remove_partial_data(Variable.colname = MEDI, \n                      threshold.missing = \"1 hour\",\n                      by.date = TRUE)\n\ndataset |> gg_days(aes_col = Id)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-40-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n::: {.callout-note}\n\n**Why did we just spend all this time handling gaps and irregularities on the Mondays only to remove them afterward?**\n\nNot all datasets are this straightforward. Deciding whether a day should be included in the analysis should come **after** ensuring the data are aligned to a regular, uninterrupted time series. Regularization makes diagnostics meaningful and prevents threshold rules from behaving unpredictably.\n\nMoreover, there are different frameworks for grouping personal light‑exposure data. In this tutorial we focus on calendar dates and 24‑hour days. Other frameworks group differently. For example, anchoring to sleep–wake cycles—under which both Mondays might still contain useful nocturnal data. Harmonizing first ensures those alternatives remain viable even if calendar‑day summaries are later excluded.\n\n:::\n\n## Metrics\n\nMetrics form the second major pillar of `LightLogR`, alongside visualization. The literature contains many light‑exposure metrics; `LightLogR` implements a broad set of them behind a uniform, well‑documented interface. The currently available metrics are:\n\n| Metric Family                        | Submetrics | Note                 | Documentation                                                                                     |\n|------------------|----------------|-----------------|---------------------|\n| Barroso                              | 7                 |                      | `barroso_lighting_metrics()`                                                                      |\n| Bright-dark period                   | 4x2               | bright / dark        | `bright_dark_period()`                                                                            |\n| Centroid of light exposure           | 1                 |                      | `centroidLE()`                                                                                    |\n| Dose                                 | 1                 |                      | `dose()`                                                                               |\n| Disparity index                      | 1                 |                      | `disparity_index()`                                                                               |\n| Duration above threshold             | 3                 | above, below, within | `duration_above_threshold()`                                                                      |\n| Exponential moving average (EMA)     | 1                 |                      | `exponential_moving_average()`                                                                    |\n| Frequency crossing threshold         | 1                 |                      | `frequency_crossing_threshold()`                                                                  |\n| Intradaily Variance (IV)             | 1                 |                      | `intradaily_variability()`                                                                        |\n| Interdaily Stability (IS)            | 1                 |                      | `interdaily_stability()`                                                                          |\n| Midpoint CE (Cumulative Exposure)    | 1                 |                      | `midpointCE()`                                                                                    |\n| nvRC (Non-visual circadian response) | 4                 |                      | `nvRC()`, `nvRC_circadianDisturbance()`, `nvRC_circadianBias()`, `nvRC_relativeAmplitudeError()` |\n| nvRD (Non-visual direct response)    | 2                 |                      | `nvRD()`, `nvRD_cumulative_response()`                                                           |\n| Period above threshold               | 3                 | above, below, within | `period_above_threshold()`                                                                        |\n| Pulses above threshold               | 7x3               | above, below, within | `pulses_above_threshold()`                                                                        |\n| Threshold for duration               | 2                 | above, below         | `threshold_for_duration()`                                                                        |\n| Timing above threshold               | 3                 | above, below, within | `timing_above_threshold()`                                                                        |\n| **Total:**                           |                   |                      |                                                                                                   |\n| **17 families**                      | **62 metrics**    |                      |                                                                                                   |\n\n::: {.callout-tip}\n\nLightLogR supports a wide range of metrics across different metric families. You can find the full documentation of metrics functions in the [reference section](https://tscnlab.github.io/LightLogR/reference/index.html#metrics). There is also an overview article on how to use [Metrics](https://tscnlab.github.io/LightLogR/articles/Metrics.html).\n\nIf you would like to use a metric you don't find represented in LightLogR, please contact the developers. The easiest and most trackable way to get in contact is by opening a new issue on our [Github repository](https://github.com/tscnlab/LightLogR/issues).\n\n:::\n\n### Principles\n\nEach metric function operates on vectors. Although the main argument is often named `Light.vector`, the name is conventional - the function will accept any variable you supply. All metric functions are thoroughly documented, with references to their intended use and interpretation.\n\nWhile we don’t generally recommend it, you can pass a raw vector directly to a metric function. For example, to compute *Time above 250 lx melanopic EDI*, you could run:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nduration_above_threshold(\n  Light.vector = dataset$MEDI,\n  Time.vector = dataset$Datetime,\n  threshold = 250\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"179840s (~2.08 days)\"\n```\n\n\n:::\n:::\n\n\n\n\n\n\nHowever, that single result is not very informative - it aggregates across all participants and all days. To recover the total recorded duration, recompute the complementary metric: *Time below 250 lx melanopic EDI*. This should approximate the full two weeks and four days of data when evaluated over the whole dataset:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nduration_above_threshold(\n  Light.vector = dataset$MEDI,\n  Time.vector = dataset$Datetime,\n  threshold = 250,\n  comparison = \"below\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"1375360s (~2.27 weeks)\"\n```\n\n\n:::\n:::\n\n\n\n\n\n\nThe problem is amplified for metrics defined at the day scale (or shorter). For example, the *brightest 10 hours* (**M10**) is computed within each 24‑hour day using a consecutive 10‑hour window—so applying it to a pooled, cross‑day vector is almost meaningless:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbright_dark_period(\n  Light.vector = dataset$MEDI,\n  Time.vector = dataset$Datetime,\n  as.df = TRUE\n) |> \n  gt() |> tab_header(\"M10\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in bright_dark_period(Light.vector = dataset$MEDI, Time.vector =\ndataset$Datetime, : `Time.vector` is not regularly spaced. Calculated results\nmay be incorrect!\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qbqbkrlhpl\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qbqbkrlhpl table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qbqbkrlhpl thead, #qbqbkrlhpl tbody, #qbqbkrlhpl tfoot, #qbqbkrlhpl tr, #qbqbkrlhpl td, #qbqbkrlhpl th {\n  border-style: none;\n}\n\n#qbqbkrlhpl p {\n  margin: 0;\n  padding: 0;\n}\n\n#qbqbkrlhpl .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qbqbkrlhpl .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qbqbkrlhpl .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qbqbkrlhpl .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qbqbkrlhpl .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qbqbkrlhpl .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qbqbkrlhpl .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qbqbkrlhpl .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qbqbkrlhpl .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qbqbkrlhpl .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qbqbkrlhpl .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qbqbkrlhpl .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qbqbkrlhpl .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qbqbkrlhpl .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qbqbkrlhpl .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qbqbkrlhpl .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qbqbkrlhpl .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qbqbkrlhpl .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qbqbkrlhpl .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qbqbkrlhpl .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qbqbkrlhpl .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qbqbkrlhpl .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qbqbkrlhpl .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qbqbkrlhpl .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qbqbkrlhpl .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qbqbkrlhpl .gt_left {\n  text-align: left;\n}\n\n#qbqbkrlhpl .gt_center {\n  text-align: center;\n}\n\n#qbqbkrlhpl .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qbqbkrlhpl .gt_font_normal {\n  font-weight: normal;\n}\n\n#qbqbkrlhpl .gt_font_bold {\n  font-weight: bold;\n}\n\n#qbqbkrlhpl .gt_font_italic {\n  font-style: italic;\n}\n\n#qbqbkrlhpl .gt_super {\n  font-size: 65%;\n}\n\n#qbqbkrlhpl .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qbqbkrlhpl .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qbqbkrlhpl .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qbqbkrlhpl .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qbqbkrlhpl .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qbqbkrlhpl .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qbqbkrlhpl .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qbqbkrlhpl .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qbqbkrlhpl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>M10</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_mean\">brightest_10h_mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_midpoint\">brightest_10h_midpoint</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_onset\">brightest_10h_onset</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_offset\">brightest_10h_offset</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"brightest_10h_mean\" class=\"gt_row gt_right\">3292.002</td>\n<td headers=\"brightest_10h_midpoint\" class=\"gt_row gt_right\">2023-10-08 15:17:49</td>\n<td headers=\"brightest_10h_onset\" class=\"gt_row gt_right\">2023-10-08 10:17:59</td>\n<td headers=\"brightest_10h_offset\" class=\"gt_row gt_right\">2023-10-08 20:17:49</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\nThe resulting value - although computationally valid - is substantively meaningless: it selects the single brightest 10‑hour window **across all participants**, rather than computing M10 *per participant per day*. In addition, two time series (218 & 219) overlap in time, which violates the assumption of a single, regularly spaced series and can produce errors. Hence the `Warning: Time.vector is not regularly spaced. Calculated results may be incorrect!` \n\nAccordingly, metric functions should be applied within tidy groups (e.g., by `Id` and by calendar `Date`), not to a pooled vector. You can achieve this with explicit for‑loops or, preferably, a tidy approach using `dplyr` (e.g., `group_by()`/`summarise()` or `nest()`/`map()`). We recommend the latter.\n\n### Use of `summarize()`\n\nWrap the metric inside a dplyr `summarise()`/`summarize()` call, supply the **grouped** dataset, and set `as.df = TRUE`. This yields a tidy, one‑row‑per‑group result (e.g., per `Id`). For example, computing **interdaily stability (IS)**:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  summarize(\n    interdaily_stability(\n      Light.vector = MEDI,\n      Datetime.vector = Datetime,\n      as.df = TRUE\n    )\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  Id    interdaily_stability\n  <chr>                <dbl>\n1 216                  0.260\n2 218                  0.339\n3 219                  0.389\n```\n\n\n:::\n:::\n\n\n\n\n\n\nTo compute multiple metrics at once, include additional expressions inside the `summarize()` call. For instance, add **Time above 250 lx melanopic EDI** alongside IS:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  summarize(\n     duration_above_threshold(\n      Light.vector = MEDI,\n      Time.vector = Datetime,\n      threshold = 250,\n      as.df = TRUE\n    ),\n    interdaily_stability(\n      Light.vector = MEDI,\n      Datetime.vector = Datetime,\n      as.df = TRUE\n    )\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 3\n  Id    duration_above_250    interdaily_stability\n  <chr> <Duration>                           <dbl>\n1 216   89160s (~1.03 days)                  0.260\n2 218   31160s (~8.66 hours)                 0.339\n3 219   59520s (~16.53 hours)                0.389\n```\n\n\n:::\n:::\n\n\n\n\n\n\nFor finer granularity, add additional grouping variables before summarizing—for example, group by calendar `Date` to compute metrics per participant–day:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTAT250 <- \ndataset |> \n  add_Date_col(group.by = TRUE, as.wday = TRUE) |> #add a Date column + group\n    summarize(\n     duration_above_threshold(\n      Light.vector = MEDI,\n      Time.vector = Datetime,\n      threshold = 250,\n      as.df = TRUE\n    ),\n    .groups = \"drop_last\"\n  )\n\nTAT250 |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jyhowvcezr\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jyhowvcezr table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jyhowvcezr thead, #jyhowvcezr tbody, #jyhowvcezr tfoot, #jyhowvcezr tr, #jyhowvcezr td, #jyhowvcezr th {\n  border-style: none;\n}\n\n#jyhowvcezr p {\n  margin: 0;\n  padding: 0;\n}\n\n#jyhowvcezr .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jyhowvcezr .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jyhowvcezr .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jyhowvcezr .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jyhowvcezr .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jyhowvcezr .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jyhowvcezr .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jyhowvcezr .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jyhowvcezr .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jyhowvcezr .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jyhowvcezr .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jyhowvcezr .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jyhowvcezr .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jyhowvcezr .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jyhowvcezr .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jyhowvcezr .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jyhowvcezr .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jyhowvcezr .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jyhowvcezr .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jyhowvcezr .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jyhowvcezr .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jyhowvcezr .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jyhowvcezr .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jyhowvcezr .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jyhowvcezr .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jyhowvcezr .gt_left {\n  text-align: left;\n}\n\n#jyhowvcezr .gt_center {\n  text-align: center;\n}\n\n#jyhowvcezr .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jyhowvcezr .gt_font_normal {\n  font-weight: normal;\n}\n\n#jyhowvcezr .gt_font_bold {\n  font-weight: bold;\n}\n\n#jyhowvcezr .gt_font_italic {\n  font-style: italic;\n}\n\n#jyhowvcezr .gt_super {\n  font-size: 65%;\n}\n\n#jyhowvcezr .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jyhowvcezr .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jyhowvcezr .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jyhowvcezr .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jyhowvcezr .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jyhowvcezr .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jyhowvcezr .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jyhowvcezr .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jyhowvcezr div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"duration_above_250\">duration_above_250</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"216  Date\" class=\"gt_row gt_center\">Tue</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">15360s (~4.27 hours)</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_center\">Wed</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">14910s (~4.14 hours)</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_center\">Thu</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">17550s (~4.88 hours)</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_center\">Fri</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">9900s (~2.75 hours)</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_center\">Sat</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">12180s (~3.38 hours)</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_center\">Sun</td>\n<td headers=\"216  duration_above_250\" class=\"gt_row gt_center\">19260s (~5.35 hours)</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"218\">218</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"218  Date\" class=\"gt_row gt_center\">Tue</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">1900s (~31.67 minutes)</td></tr>\n    <tr><td headers=\"218  Date\" class=\"gt_row gt_center\">Wed</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">1080s (~18 minutes)</td></tr>\n    <tr><td headers=\"218  Date\" class=\"gt_row gt_center\">Thu</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">760s (~12.67 minutes)</td></tr>\n    <tr><td headers=\"218  Date\" class=\"gt_row gt_center\">Fri</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">6170s (~1.71 hours)</td></tr>\n    <tr><td headers=\"218  Date\" class=\"gt_row gt_center\">Sat</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">10370s (~2.88 hours)</td></tr>\n    <tr><td headers=\"218  Date\" class=\"gt_row gt_center\">Sun</td>\n<td headers=\"218  duration_above_250\" class=\"gt_row gt_center\">10880s (~3.02 hours)</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"2\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"219\">219</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"219  Date\" class=\"gt_row gt_center\">Tue</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">12250s (~3.4 hours)</td></tr>\n    <tr><td headers=\"219  Date\" class=\"gt_row gt_center\">Wed</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">14400s (~4 hours)</td></tr>\n    <tr><td headers=\"219  Date\" class=\"gt_row gt_center\">Thu</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">10200s (~2.83 hours)</td></tr>\n    <tr><td headers=\"219  Date\" class=\"gt_row gt_center\">Fri</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">8940s (~2.48 hours)</td></tr>\n    <tr><td headers=\"219  Date\" class=\"gt_row gt_center\">Sat</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">5820s (~1.62 hours)</td></tr>\n    <tr><td headers=\"219  Date\" class=\"gt_row gt_center\">Sun</td>\n<td headers=\"219  duration_above_250\" class=\"gt_row gt_center\">7910s (~2.2 hours)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\nWe can further condense this:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nTAT250 |> \n  summarize_numeric() |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"cotrzuzwyv\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#cotrzuzwyv table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#cotrzuzwyv thead, #cotrzuzwyv tbody, #cotrzuzwyv tfoot, #cotrzuzwyv tr, #cotrzuzwyv td, #cotrzuzwyv th {\n  border-style: none;\n}\n\n#cotrzuzwyv p {\n  margin: 0;\n  padding: 0;\n}\n\n#cotrzuzwyv .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#cotrzuzwyv .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cotrzuzwyv .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cotrzuzwyv .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cotrzuzwyv .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cotrzuzwyv .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cotrzuzwyv .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cotrzuzwyv .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cotrzuzwyv .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#cotrzuzwyv .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#cotrzuzwyv .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cotrzuzwyv .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cotrzuzwyv .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cotrzuzwyv .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cotrzuzwyv .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cotrzuzwyv .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cotrzuzwyv .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cotrzuzwyv .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#cotrzuzwyv .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cotrzuzwyv .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cotrzuzwyv .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cotrzuzwyv .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cotrzuzwyv .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cotrzuzwyv .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cotrzuzwyv .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cotrzuzwyv .gt_left {\n  text-align: left;\n}\n\n#cotrzuzwyv .gt_center {\n  text-align: center;\n}\n\n#cotrzuzwyv .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cotrzuzwyv .gt_font_normal {\n  font-weight: normal;\n}\n\n#cotrzuzwyv .gt_font_bold {\n  font-weight: bold;\n}\n\n#cotrzuzwyv .gt_font_italic {\n  font-style: italic;\n}\n\n#cotrzuzwyv .gt_super {\n  font-size: 65%;\n}\n\n#cotrzuzwyv .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#cotrzuzwyv .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cotrzuzwyv .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#cotrzuzwyv .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#cotrzuzwyv .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#cotrzuzwyv .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#cotrzuzwyv .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#cotrzuzwyv .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#cotrzuzwyv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Id\">Id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_duration_above_250\">mean_duration_above_250</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">216</td>\n<td headers=\"mean_duration_above_250\" class=\"gt_row gt_center\">14860s (~4.13 hours)</td>\n<td headers=\"episodes\" class=\"gt_row gt_right\">6</td></tr>\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">218</td>\n<td headers=\"mean_duration_above_250\" class=\"gt_row gt_center\">5193s (~1.44 hours)</td>\n<td headers=\"episodes\" class=\"gt_row gt_right\">6</td></tr>\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">219</td>\n<td headers=\"mean_duration_above_250\" class=\"gt_row gt_center\">9920s (~2.76 hours)</td>\n<td headers=\"episodes\" class=\"gt_row gt_right\">6</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\nThat’s all you need to get started with metric calculation in `LightLogR`. While advanced metrics involve additional considerations, this tidy grouped workflow will take you a long way.\n\n## Photoperiod\n\nPhotoperiod is a key covariate in many analyses of personal light exposure. `LightLogR` includes utilities to derive photoperiod information with minimal effort. All you need are geographic coordinates in decimal degrees (latitude, longitude); functions will align photoperiod features to your time series. Provide coordinates in standard decimal format (e.g., `48.52, 9.06`):\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#specifying coordinates (latitude/longitude)\ncoordinates <- c(48.521637, 9.057645)\n\n#extracting photoperiod information\ndataset |> extract_photoperiod(coordinates)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         date            tz      lat      lon solar.angle                dawn\n1  2023-10-03 Europe/Berlin 48.52164 9.057645          -6 2023-10-03 06:54:12\n2  2023-10-04 Europe/Berlin 48.52164 9.057645          -6 2023-10-04 06:55:38\n3  2023-10-05 Europe/Berlin 48.52164 9.057645          -6 2023-10-05 06:57:04\n4  2023-10-06 Europe/Berlin 48.52164 9.057645          -6 2023-10-06 06:58:30\n5  2023-10-07 Europe/Berlin 48.52164 9.057645          -6 2023-10-07 06:59:56\n6  2023-10-08 Europe/Berlin 48.52164 9.057645          -6 2023-10-08 07:01:22\n7  2023-10-17 Europe/Berlin 48.52164 9.057645          -6 2023-10-17 07:14:23\n8  2023-10-18 Europe/Berlin 48.52164 9.057645          -6 2023-10-18 07:15:50\n9  2023-10-19 Europe/Berlin 48.52164 9.057645          -6 2023-10-19 07:17:17\n10 2023-10-20 Europe/Berlin 48.52164 9.057645          -6 2023-10-20 07:18:45\n11 2023-10-21 Europe/Berlin 48.52164 9.057645          -6 2023-10-21 07:20:13\n12 2023-10-22 Europe/Berlin 48.52164 9.057645          -6 2023-10-22 07:21:40\n                  dusk    photoperiod\n1  2023-10-03 19:30:44 12.60884 hours\n2  2023-10-04 19:28:41 12.55080 hours\n3  2023-10-05 19:26:39 12.49293 hours\n4  2023-10-06 19:24:37 12.43521 hours\n5  2023-10-07 19:22:36 12.37767 hours\n6  2023-10-08 19:20:35 12.32031 hours\n7  2023-10-17 19:03:11 11.81335 hours\n8  2023-10-18 19:01:19 11.75821 hours\n9  2023-10-19 18:59:29 11.70333 hours\n10 2023-10-20 18:57:40 11.64874 hours\n11 2023-10-21 18:55:53 11.59443 hours\n12 2023-10-22 18:54:06 11.54043 hours\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#adding photoperiod information\ndataset <- \n  dataset |> \n  add_photoperiod(coordinates)\n\ndataset |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 9\n# Groups:   Id [1]\n  Id    Datetime            is.implicit   PIM  MEDI dawn               \n  <chr> <dttm>              <lgl>       <dbl> <dbl> <dttm>             \n1 216   2023-10-03 00:00:09 FALSE          91  12.6 2023-10-03 06:54:12\n2 216   2023-10-03 00:00:19 FALSE          62  14.3 2023-10-03 06:54:12\n3 216   2023-10-03 00:00:29 FALSE          45  10.2 2023-10-03 06:54:12\n4 216   2023-10-03 00:00:39 FALSE          13  10.3 2023-10-03 06:54:12\n5 216   2023-10-03 00:00:49 FALSE         216  11.9 2023-10-03 06:54:12\n6 216   2023-10-03 00:00:59 FALSE          62  11.6 2023-10-03 06:54:12\n# ℹ 3 more variables: dusk <dttm>, photoperiod <drtn>, photoperiod.state <chr>\n```\n\n\n:::\n:::\n\n\n\n\n\n\n### Photoperiod in visualizations\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#if photoperiod information was already added to the data\n#nothing has to be specified\ndataset |> gg_days() |> gg_photoperiod()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-50-1.png){width=1152}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#if no photoperiod information is available in the data, coordinates have to\n#be specified\ndataset_red |> gg_days() |> gg_photoperiod(coordinates)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-51-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n### Data\n\nPhotoperiod features make it easy to split data into day and night states—for example, to compute metrics by phase. The `number_states()` function places a counter each time the state changes, effectively numbering successive day and night episodes. Grouping by these counters then allows you to calculate metrics for individual days and nights:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  #create numbered days and nights:\n  number_states(photoperiod.state) |> \n  #group by Id, day and nights, and also the numbers:\n  group_by(photoperiod.state, photoperiod.state.count, .add = TRUE) |> \n  #calculate the brightest hour in each day and each night:\n  summarize(\n    bright_dark_period(MEDI, Datetime, timespan = \"1 hour\", as.df = TRUE),\n    .groups = \"drop_last\") |> \n  #select (bright_dark_period calulates four metrics: start, end, middle, mean)\n  select(Id, photoperiod.state, brightest_1h_mean) |>\n  #condense the instances to a single summary\n  summarize_numeric(prefix = \"\") |> \n  #show as table\n  gt() |> fmt_number()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vphedipzip\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vphedipzip table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vphedipzip thead, #vphedipzip tbody, #vphedipzip tfoot, #vphedipzip tr, #vphedipzip td, #vphedipzip th {\n  border-style: none;\n}\n\n#vphedipzip p {\n  margin: 0;\n  padding: 0;\n}\n\n#vphedipzip .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vphedipzip .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vphedipzip .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vphedipzip .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vphedipzip .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vphedipzip .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vphedipzip .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vphedipzip .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vphedipzip .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vphedipzip .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vphedipzip .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vphedipzip .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vphedipzip .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vphedipzip .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vphedipzip .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vphedipzip .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vphedipzip .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vphedipzip .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vphedipzip .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vphedipzip .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vphedipzip .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vphedipzip .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vphedipzip .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vphedipzip .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vphedipzip .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vphedipzip .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vphedipzip .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vphedipzip .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vphedipzip .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vphedipzip .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vphedipzip .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vphedipzip .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vphedipzip .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vphedipzip .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vphedipzip .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vphedipzip .gt_left {\n  text-align: left;\n}\n\n#vphedipzip .gt_center {\n  text-align: center;\n}\n\n#vphedipzip .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vphedipzip .gt_font_normal {\n  font-weight: normal;\n}\n\n#vphedipzip .gt_font_bold {\n  font-weight: bold;\n}\n\n#vphedipzip .gt_font_italic {\n  font-style: italic;\n}\n\n#vphedipzip .gt_super {\n  font-size: 65%;\n}\n\n#vphedipzip .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vphedipzip .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vphedipzip .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vphedipzip .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vphedipzip .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vphedipzip .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vphedipzip .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vphedipzip .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vphedipzip div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"photoperiod.state\">photoperiod.state</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_1h_mean\">brightest_1h_mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"216  photoperiod.state\" class=\"gt_row gt_left\">day</td>\n<td headers=\"216  brightest_1h_mean\" class=\"gt_row gt_right\">7,294.36</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">6.00</td></tr>\n    <tr><td headers=\"216  photoperiod.state\" class=\"gt_row gt_left\">night</td>\n<td headers=\"216  brightest_1h_mean\" class=\"gt_row gt_right\">34.87</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">7.00</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"218\">218</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"218  photoperiod.state\" class=\"gt_row gt_left\">day</td>\n<td headers=\"218  brightest_1h_mean\" class=\"gt_row gt_right\">1,246.30</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">6.00</td></tr>\n    <tr><td headers=\"218  photoperiod.state\" class=\"gt_row gt_left\">night</td>\n<td headers=\"218  brightest_1h_mean\" class=\"gt_row gt_right\">72.96</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">7.00</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"219\">219</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"219  photoperiod.state\" class=\"gt_row gt_left\">day</td>\n<td headers=\"219  brightest_1h_mean\" class=\"gt_row gt_right\">1,670.66</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">6.00</td></tr>\n    <tr><td headers=\"219  photoperiod.state\" class=\"gt_row gt_left\">night</td>\n<td headers=\"219  brightest_1h_mean\" class=\"gt_row gt_right\">51.40</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">7.00</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\nThis yields the average brightest 1‑hour period for each participant, separately for day and night. Notably, the participant with the highest daytime brightness also shows the lowest nighttime brightness, and vice versa.\n\n## Distribution of light exposure\n\nPersonal light‑exposure data exhibit a characteristic distribution (see figure): they are strongly right‑skewed—approximately log‑normal—and contain many zeros (i.e., zero‑inflation).\n\n::: {.column-margin}\n![Distribution of light exposure in the environment and for a participant, both at night and day](assets/Distribution.png)\n:::\n\nConsequently, the arithmetic mean is not a representative summary for these data. We can visualize this by placing common location metrics on the distribution.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  ungroup() |> \n  summarize(\n    mean = mean(MEDI),\n    median = median(MEDI),\n    geo_mean = exp(mean(log(MEDI[MEDI > 0]), na.rm = TRUE))\n  ) |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"sxrsmeoleb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#sxrsmeoleb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#sxrsmeoleb thead, #sxrsmeoleb tbody, #sxrsmeoleb tfoot, #sxrsmeoleb tr, #sxrsmeoleb td, #sxrsmeoleb th {\n  border-style: none;\n}\n\n#sxrsmeoleb p {\n  margin: 0;\n  padding: 0;\n}\n\n#sxrsmeoleb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#sxrsmeoleb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sxrsmeoleb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sxrsmeoleb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sxrsmeoleb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sxrsmeoleb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sxrsmeoleb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sxrsmeoleb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sxrsmeoleb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#sxrsmeoleb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#sxrsmeoleb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sxrsmeoleb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sxrsmeoleb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sxrsmeoleb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sxrsmeoleb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sxrsmeoleb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sxrsmeoleb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sxrsmeoleb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#sxrsmeoleb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sxrsmeoleb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sxrsmeoleb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sxrsmeoleb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sxrsmeoleb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sxrsmeoleb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sxrsmeoleb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sxrsmeoleb .gt_left {\n  text-align: left;\n}\n\n#sxrsmeoleb .gt_center {\n  text-align: center;\n}\n\n#sxrsmeoleb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sxrsmeoleb .gt_font_normal {\n  font-weight: normal;\n}\n\n#sxrsmeoleb .gt_font_bold {\n  font-weight: bold;\n}\n\n#sxrsmeoleb .gt_font_italic {\n  font-style: italic;\n}\n\n#sxrsmeoleb .gt_super {\n  font-size: 65%;\n}\n\n#sxrsmeoleb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#sxrsmeoleb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sxrsmeoleb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sxrsmeoleb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sxrsmeoleb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sxrsmeoleb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sxrsmeoleb .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#sxrsmeoleb .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#sxrsmeoleb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean\">mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"median\">median</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"geo_mean\">geo_mean</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"mean\" class=\"gt_row gt_right\">282.535</td>\n<td headers=\"median\" class=\"gt_row gt_right\">8.76</td>\n<td headers=\"geo_mean\" class=\"gt_row gt_right\">32.82594</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  aggregate_Datetime(\"5 min\") |> \n  ggplot(aes(x=MEDI, y = after_stat(ncount))) +\n  geom_histogram(binwidth = 0.2) +\n  scale_x_continuous(trans = \"symlog\", \n                     breaks = c(0, 10^(0:5)), \n                     labels= expression(0,10^0,10^1, 10^2, 10^3, 10^4, 10^5)\n                     ) +\n  geom_vline(xintercept = c(282, 9, 33), col = \"red\") +\n  theme_minimal() +\n  # facet_wrap(~Id) +\n  labs(x = \"Melanopic illuminance (lx, mel EDI)\", y = \"Scaled counts (max = 1)\")\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-54-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nTo better characterize zero‑inflated, right‑skewed light data, use `log_zero_inflated()`. The function adds a small constant (ε) to every observation **before taking logs**, making the transform well‑defined at zero. Choose ε based on the device’s measurement resolution/accuracy; for wearables spanning roughly 1–10^5 lx, we recommend ε = 0.1 lx. The inverse, `exp_zero_inflated()`, returns values to the original scale by exponentiating and then subtracting the same ε. The default basis for these functions is 10.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  ungroup() |> \n  summarize(\n    mean = mean(MEDI),\n    median = median(MEDI),\n    geo_mean =  exp(mean(log(MEDI[MEDI > 0]), na.rm = TRUE)),\n    log_zero_inflated_mean = \n      MEDI |> log_zero_inflated() |> mean() |> exp_zero_inflated()\n  ) |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zlvksjtzfm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#zlvksjtzfm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zlvksjtzfm thead, #zlvksjtzfm tbody, #zlvksjtzfm tfoot, #zlvksjtzfm tr, #zlvksjtzfm td, #zlvksjtzfm th {\n  border-style: none;\n}\n\n#zlvksjtzfm p {\n  margin: 0;\n  padding: 0;\n}\n\n#zlvksjtzfm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zlvksjtzfm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zlvksjtzfm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zlvksjtzfm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zlvksjtzfm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zlvksjtzfm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zlvksjtzfm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zlvksjtzfm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zlvksjtzfm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zlvksjtzfm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zlvksjtzfm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zlvksjtzfm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zlvksjtzfm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zlvksjtzfm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zlvksjtzfm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlvksjtzfm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zlvksjtzfm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zlvksjtzfm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zlvksjtzfm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlvksjtzfm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zlvksjtzfm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlvksjtzfm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zlvksjtzfm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlvksjtzfm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zlvksjtzfm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zlvksjtzfm .gt_left {\n  text-align: left;\n}\n\n#zlvksjtzfm .gt_center {\n  text-align: center;\n}\n\n#zlvksjtzfm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zlvksjtzfm .gt_font_normal {\n  font-weight: normal;\n}\n\n#zlvksjtzfm .gt_font_bold {\n  font-weight: bold;\n}\n\n#zlvksjtzfm .gt_font_italic {\n  font-style: italic;\n}\n\n#zlvksjtzfm .gt_super {\n  font-size: 65%;\n}\n\n#zlvksjtzfm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zlvksjtzfm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zlvksjtzfm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zlvksjtzfm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zlvksjtzfm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zlvksjtzfm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zlvksjtzfm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#zlvksjtzfm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#zlvksjtzfm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean\">mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"median\">median</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"geo_mean\">geo_mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"log_zero_inflated_mean\">log_zero_inflated_mean</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"mean\" class=\"gt_row gt_right\">282.535</td>\n<td headers=\"median\" class=\"gt_row gt_right\">8.76</td>\n<td headers=\"geo_mean\" class=\"gt_row gt_right\">32.82594</td>\n<td headers=\"log_zero_inflated_mean\" class=\"gt_row gt_right\">6.567388</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  aggregate_Datetime(\"5 min\") |> \n  ggplot(aes(x=MEDI, y = after_stat(ncount))) +\n  geom_histogram(binwidth = 0.2) +\n  scale_x_continuous(trans = \"symlog\", \n                     breaks = c(0, 10^(0:5)), \n                     labels= expression(0,10^0,10^1, 10^2, 10^3, 10^4, 10^5)\n                     ) +\n  geom_vline(xintercept = c(282, 9, 33, 7), col = \"red\") +\n  theme_minimal() +\n  # facet_wrap(~Id) +\n  labs(x = \"Melanopic illuminance (lx, mel EDI)\", y = \"Scaled counts (max = 1)\")\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-56-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n### Log zero-inflated with metrics\n\nWhen computing averaging metrics, apply the transformation **explicitly** to the variable you pass to the metric. This ensures the statistic is computed on the intended scale and makes your code easy to audit later. \n\nFor the zero‑inflated log approach, transform before averaging and (if desired) back‑transform for reporting:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  filter(Id == \"216\") |> \n  add_Date_col(group.by = TRUE) |> \n  summarize(\n    #without transformation:\n    bright_dark_period(MEDI, Datetime, as.df = TRUE),\n    #with transformation:\n    bright_dark_period(\n      log_zero_inflated(MEDI),\n      timespan = \"9.99 hours\", #needs to be different from 10 or it overwrites\n      Datetime, as.df = TRUE),\n    .groups = \"drop_last\"\n            ) |> \n  select(Id, Date, brightest_10h_mean, brightest_9.99h_mean) |> \n  mutate(brightest_9.99h_mean = exp_zero_inflated(brightest_9.99h_mean)) |> \n  rename(brightest_10h_zero_infl_mean = brightest_9.99h_mean) |> \n  gt() |> \n  fmt_number()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"tymqfrdufa\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#tymqfrdufa table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#tymqfrdufa thead, #tymqfrdufa tbody, #tymqfrdufa tfoot, #tymqfrdufa tr, #tymqfrdufa td, #tymqfrdufa th {\n  border-style: none;\n}\n\n#tymqfrdufa p {\n  margin: 0;\n  padding: 0;\n}\n\n#tymqfrdufa .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tymqfrdufa .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tymqfrdufa .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tymqfrdufa .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tymqfrdufa .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tymqfrdufa .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tymqfrdufa .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tymqfrdufa .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tymqfrdufa .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#tymqfrdufa .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tymqfrdufa .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tymqfrdufa .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tymqfrdufa .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tymqfrdufa .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tymqfrdufa .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tymqfrdufa .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tymqfrdufa .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tymqfrdufa .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#tymqfrdufa .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tymqfrdufa .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tymqfrdufa .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tymqfrdufa .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tymqfrdufa .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tymqfrdufa .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tymqfrdufa .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tymqfrdufa .gt_left {\n  text-align: left;\n}\n\n#tymqfrdufa .gt_center {\n  text-align: center;\n}\n\n#tymqfrdufa .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tymqfrdufa .gt_font_normal {\n  font-weight: normal;\n}\n\n#tymqfrdufa .gt_font_bold {\n  font-weight: bold;\n}\n\n#tymqfrdufa .gt_font_italic {\n  font-style: italic;\n}\n\n#tymqfrdufa .gt_super {\n  font-size: 65%;\n}\n\n#tymqfrdufa .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#tymqfrdufa .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tymqfrdufa .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tymqfrdufa .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tymqfrdufa .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tymqfrdufa .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tymqfrdufa .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#tymqfrdufa .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#tymqfrdufa div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Date\">Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_mean\">brightest_10h_mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"brightest_10h_zero_infl_mean\">brightest_10h_zero_infl_mean</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"3\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-03</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">774.39</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">164.46</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-04</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">1,890.69</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">106.63</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-05</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">355.81</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">153.26</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-06</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">706.41</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">117.82</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-07</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">790.83</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">125.38</td></tr>\n    <tr><td headers=\"216  Date\" class=\"gt_row gt_right\">2023-10-08</td>\n<td headers=\"216  brightest_10h_mean\" class=\"gt_row gt_right\">3,292.00</td>\n<td headers=\"216  brightest_10h_zero_infl_mean\" class=\"gt_row gt_right\">250.35</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n## Summaries\n\nSummary helpers provide fast, dataset‑wide overviews. Existing examples include `gap_table()` (tabular diagnostics) and `gg_overview()` (visual timeline). In the next release, two higher‑level tools are planned: `grand_overview()` (a dataset‑level summary plot) and `light_summary_table()` (a table of key exposure metrics). These are not available in `LightLogR 0.9.3` but are slated for an upcoming release and are shown in the next two sections as *sneak previews*. In keeping with `LightLogR`’s design, they will have straightforward interfaces and play well with grouped/tidy workflows.\n\n### Summary plot\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  grand_overview(coordinates, #provide the coordinates\n                 \"Tübingen\", #provide a site name\n                 \"Germany\", #provide a country name\n                 \"#DDCC77\", #provide a color for the dataset\n                 photoperiod_sequence = 1 #specify the photoperiod resolution\n                 )\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-58-1.png){width=1152}\n:::\n\n```{.r .cell-code}\n# ggsave(\"assets/grand_overview.png\", width = 17, height = 10, scale = 2, units = \"cm\")\n```\n:::\n\n\n\n\n\n\n### Summary table\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary_table <- \ndataset |> \nlight_summary_table(\n  coordinates, #provide coordinates\n  \"Tuebingen\", #provide a site name\n  \"Germany\", #provide a country name\n  \"#DDCC77\", #provide a color for histograms\n  histograms = TRUE #show histograms\n)\nsummary_table \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nltbvnwjps\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nltbvnwjps table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nltbvnwjps thead, #nltbvnwjps tbody, #nltbvnwjps tfoot, #nltbvnwjps tr, #nltbvnwjps td, #nltbvnwjps th {\n  border-style: none;\n}\n\n#nltbvnwjps p {\n  margin: 0;\n  padding: 0;\n}\n\n#nltbvnwjps .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nltbvnwjps .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nltbvnwjps .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nltbvnwjps .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nltbvnwjps .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nltbvnwjps .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nltbvnwjps .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nltbvnwjps .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nltbvnwjps .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nltbvnwjps .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nltbvnwjps .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nltbvnwjps .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nltbvnwjps .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nltbvnwjps .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nltbvnwjps .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nltbvnwjps .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nltbvnwjps .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nltbvnwjps .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nltbvnwjps .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nltbvnwjps .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nltbvnwjps .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nltbvnwjps .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nltbvnwjps .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nltbvnwjps .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nltbvnwjps .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nltbvnwjps .gt_left {\n  text-align: left;\n}\n\n#nltbvnwjps .gt_center {\n  text-align: center;\n}\n\n#nltbvnwjps .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nltbvnwjps .gt_font_normal {\n  font-weight: normal;\n}\n\n#nltbvnwjps .gt_font_bold {\n  font-weight: bold;\n}\n\n#nltbvnwjps .gt_font_italic {\n  font-style: italic;\n}\n\n#nltbvnwjps .gt_super {\n  font-size: 65%;\n}\n\n#nltbvnwjps .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nltbvnwjps .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nltbvnwjps .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nltbvnwjps .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nltbvnwjps .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nltbvnwjps .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nltbvnwjps .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nltbvnwjps .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nltbvnwjps div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"5\" class=\"gt_heading gt_title gt_font_normal\" style>Summary table</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"5\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Tuebingen, Germany (48.5°N, 9.1°E), TZ: Europe/Berlin</td>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"5\" class=\"gt_group_heading\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Overview\">Overview</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Participants</th>\n<td headers=\"Overview stub_1_1 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><br /></td>\n<td headers=\"Overview stub_1_1 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>3</strong> </td>\n<td headers=\"Overview stub_1_1 plot\" class=\"gt_row gt_center\"><div></div></td>\n<td headers=\"Overview stub_1_1 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Participant-days</th>\n<td headers=\"Overview stub_1_2 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><br /></td>\n<td headers=\"Overview stub_1_2 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>18</strong> </td>\n<td headers=\"Overview stub_1_2 plot\" class=\"gt_row gt_center\"><div></div></td>\n<td headers=\"Overview stub_1_2 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Days ≥80% complete</th>\n<td headers=\"Overview stub_1_3 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><br /></td>\n<td headers=\"Overview stub_1_3 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>18</strong> </td>\n<td headers=\"Overview stub_1_3 plot\" class=\"gt_row gt_center\"><div></div></td>\n<td headers=\"Overview stub_1_3 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Missing/irregular</th>\n<td headers=\"Overview stub_1_4 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><br /></td>\n<td headers=\"Overview stub_1_4 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>0.00%</strong> (0.00% - 0.00%)</td>\n<td headers=\"Overview stub_1_4 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Overview stub_1_4 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Photoperiod</th>\n<td headers=\"Overview stub_1_5 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><br /></td>\n<td headers=\"Overview stub_1_5 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>11h 56m</strong> (11h 32m - 12h 36m)</td>\n<td headers=\"Overview stub_1_5 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='39.11' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Overview stub_1_5 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"5\" class=\"gt_group_heading\" style=\"font-weight: bold;\" scope=\"colgroup\" id=\"Metrics&lt;span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;&quot;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/span&gt;\">Metrics<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span></th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Dose</th>\n<td headers=\"Metrics stub_1_6 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"RCAobHjCt2gp\"><span class='gt_from_md'>D (lx·h)</span></span></td>\n<td headers=\"Metrics stub_1_6 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>6,781</strong> ±7,698 (1,226 - 33,160)</td>\n<td headers=\"Metrics stub_1_6 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='12.36' width='6.81' height='1.17' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='8.84' width='6.81' height='4.69' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='12.36' width='6.81' height='1.17' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='12.36' width='6.81' height='1.17' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_6 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Duration above 250 lx</th>\n<td headers=\"Metrics stub_1_7 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"VEFUPHN1Yj4yNTA8L3N1Yj4=\"><span class='gt_from_md'>TAT<sub>250</sub></span></span></td>\n<td headers=\"Metrics stub_1_7 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>2h 46m</strong> ±1h 29m (12m 40s - 5h 21m)</td>\n<td headers=\"Metrics stub_1_7 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='3.87' width='6.81' height='9.66' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_7 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Duration within 1-10 lx</th>\n<td headers=\"Metrics stub_1_8 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"VFdUPHN1Yj4x4oCTMTA8L3N1Yj4=\"><span class='gt_from_md'>TWT<sub>1–10</sub></span></span></td>\n<td headers=\"Metrics stub_1_8 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>4h 51m</strong> ±2h 5m (1h 39m - 8h 55m)</td>\n<td headers=\"Metrics stub_1_8 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='18.67' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='3.87' width='6.81' height='9.66' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='3.87' width='6.81' height='9.66' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_8 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Duration below 1 lx</th>\n<td headers=\"Metrics stub_1_9 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"VEJUPHN1Yj4xPC9zdWI+\"><span class='gt_from_md'>TBT<sub>1</sub></span></span></td>\n<td headers=\"Metrics stub_1_9 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>7h 34m</strong> ±2h 39m (12m 50s - 11h 41m)</td>\n<td headers=\"Metrics stub_1_9 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='9.23' width='6.81' height='4.29' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='4.94' width='6.81' height='8.59' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='9.23' width='6.81' height='4.29' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_9 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_10\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Period above 250 lx</th>\n<td headers=\"Metrics stub_1_10 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"UEFUPHN1Yj4yNTA8L3N1Yj4=\"><span class='gt_from_md'>PAT<sub>250</sub></span></span></td>\n<td headers=\"Metrics stub_1_10 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>32m 53s</strong> ±24m 1s (2m 50s - 1h 22m)</td>\n<td headers=\"Metrics stub_1_10 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='3.87' width='6.81' height='9.66' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='3.87' width='6.81' height='9.66' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='10.31' width='6.81' height='3.22' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_10 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_11\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Duration above 1000 lx</th>\n<td headers=\"Metrics stub_1_11 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"VEFUPHN1Yj4xMDAwPC9zdWI+\"><span class='gt_from_md'>TAT<sub>1000</sub></span></span></td>\n<td headers=\"Metrics stub_1_11 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>1h 4m</strong> ±55m 48s (7m 30s - 3h 4m)</td>\n<td headers=\"Metrics stub_1_11 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='5.80' width='6.81' height='7.73' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='3.22' width='6.81' height='10.31' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='8.38' width='6.81' height='5.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='8.38' width='6.81' height='5.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_11 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_12\" scope=\"row\" class=\"gt_row gt_left gt_stub\">First timing above 250 lx</th>\n<td headers=\"Metrics stub_1_12 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"RkxpVDxzdWI+MjUwPC9zdWI+\"><span class='gt_from_md'>FLiT<sub>250</sub></span></span></td>\n<td headers=\"Metrics stub_1_12 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>10:55</strong> ±01:26 (08:31 - 13:41)</td>\n<td headers=\"Metrics stub_1_12 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='32.30' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='2.08' width='6.81' height='11.45' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='12.10' width='6.81' height='1.43' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_12 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr><th id=\"stub_1_13\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Mean timing above 250 lx</th>\n<td headers=\"Metrics stub_1_13 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TUxpVDxzdWI+MjUwPC9zdWI+\"><span class='gt_from_md'>MLiT<sub>250</sub></span></span></td>\n<td headers=\"Metrics stub_1_13 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>14:11</strong> ±01:30 (10:44 - 16:23)</td>\n<td headers=\"Metrics stub_1_13 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='52.74' y='10.67' width='6.81' height='2.86' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='7.80' width='6.81' height='5.73' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='9.23' width='6.81' height='4.29' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_13 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr><th id=\"stub_1_14\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Last timing above 250 lx</th>\n<td headers=\"Metrics stub_1_14 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TExpVDxzdWI+MjUwPC9zdWI+\"><span class='gt_from_md'>LLiT<sub>250</sub></span></span></td>\n<td headers=\"Metrics stub_1_14 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>18:40</strong> ±02:09 (13:56 - 23:03)</td>\n<td headers=\"Metrics stub_1_14 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='45.93' y='12.46' width='6.81' height='1.07' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='12.46' width='6.81' height='1.07' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='11.38' width='6.81' height='2.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_14 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr><th id=\"stub_1_15\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Brightest 10h midpoint</th>\n<td headers=\"Metrics stub_1_15 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TTEwPHN1Yj5taWRwb2ludDwvc3ViPg==\"><span class='gt_from_md'>M10<sub>midpoint</sub></span></span></td>\n<td headers=\"Metrics stub_1_15 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>14:47</strong> ±01:15 (13:10 - 17:21)</td>\n<td headers=\"Metrics stub_1_15 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='59.55' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='9.66' width='6.81' height='3.87' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_15 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr><th id=\"stub_1_16\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Darkest 5h midpoint</th>\n<td headers=\"Metrics stub_1_16 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TDU8c3ViPm1pZHBvaW50PC9zdWI+\"><span class='gt_from_md'>L5<sub>midpoint</sub></span></span></td>\n<td headers=\"Metrics stub_1_16 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>03:53</strong> ±00:53 (02:29 - 05:58)</td>\n<td headers=\"Metrics stub_1_16 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='32.30' y='9.85' width='6.81' height='3.68' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='9.85' width='6.81' height='3.68' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='6.17' width='6.81' height='7.36' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='11.69' width='6.81' height='1.84' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='11.69' width='6.81' height='1.84' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='11.69' width='6.81' height='1.84' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_16 footnote\" class=\"gt_row gt_right\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span>  </td></tr>\n    <tr><th id=\"stub_1_17\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Brightest 10h mean<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></th>\n<td headers=\"Metrics stub_1_17 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TTEwPHN1Yj5tZWFuPC9zdWI+IChseCk=\"><span class='gt_from_md'>M10<sub>mean</sub> (lx)</span></span></td>\n<td headers=\"Metrics stub_1_17 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>126.6</strong> ±63.3 (17.6 - 249.3)</td>\n<td headers=\"Metrics stub_1_17 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='11.86' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='8.38' width='6.81' height='5.15' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='5.80' width='6.81' height='7.73' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='5.80' width='6.81' height='7.73' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='10.95' width='6.81' height='2.58' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_17 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_18\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Darkest 5h mean<span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span></th>\n<td headers=\"Metrics stub_1_18 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"TDU8c3ViPm1lYW48L3N1Yj4gKGx4KQ==\"><span class='gt_from_md'>L5<sub>mean</sub> (lx)</span></span></td>\n<td headers=\"Metrics stub_1_18 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>0.1</strong> ±0.5 (0.0 - 2.1)</td>\n<td headers=\"Metrics stub_1_18 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='5.04' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='11.86' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='18.67' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='25.48' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='39.11' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='45.93' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='52.74' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='12.77' width='6.81' height='0.76' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_18 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_19\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Interdaily stability</th>\n<td headers=\"Metrics stub_1_19 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"SVM=\"><span class='gt_from_md'>IS</span></span></td>\n<td headers=\"Metrics stub_1_19 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>0.329</strong> ±0.065 (0.260 - 0.389)</td>\n<td headers=\"Metrics stub_1_19 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='25.48' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='32.30' y='7.09' width='6.81' height='6.44' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_19 footnote\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_20\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Intradaily variability</th>\n<td headers=\"Metrics stub_1_20 symbol\" class=\"gt_row gt_left\" style=\"text-align: right;\"><span data-qmd-base64=\"SVY=\"><span class='gt_from_md'>IV</span></span></td>\n<td headers=\"Metrics stub_1_20 mean\" class=\"gt_row gt_right\" style=\"text-align: left;\"><strong>1.206</strong> ±0.175 (1.013 - 1.353)</td>\n<td headers=\"Metrics stub_1_20 plot\" class=\"gt_row gt_center\"><?xml version='1.0' encoding='UTF-8' ?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='85.04pt' height='14.17pt' viewBox='0 0 85.04 14.17'><g class='svglite'><defs>  <style type='text/css'><![CDATA[    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {      fill: none;      stroke: #000000;      stroke-linecap: round;      stroke-linejoin: round;      stroke-miterlimit: 10.00;    }    .svglite text {      white-space: pre;    }    .svglite g.glyphgroup path {      fill: inherit;      stroke: none;    }  ]]></style></defs><rect width='100%' height='100%' style='stroke: none; fill: none;'/><defs>  <clipPath id='cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3'>    <rect x='0.00' y='0.00' width='85.04' height='14.17' />  </clipPath></defs><g clip-path='url(#cpMC4wMHw4NS4wNHwwLjAwfDE0LjE3)'><rect x='52.74' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='59.55' y='13.53' width='6.81' height='0.00' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='66.37' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /><rect x='73.18' y='0.64' width='6.81' height='12.88' style='stroke-width: 0.43; stroke: none; stroke-linecap: butt; stroke-linejoin: miter; fill: #DDCC77;' /></g></g></svg></td>\n<td headers=\"Metrics stub_1_20 footnote\" class=\"gt_row gt_right\"> </td></tr>\n  </tbody>\n  \n  <tfoot class=\"gt_footnotes\">\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"> <span data-qmd-base64=\"dmFsdWVzIHNob3c6ICoqbWVhbioqIMKxc2QgKG1pbiAtIG1heCkgYW5kIGFyZSBhbGwgYmFzZWQgb24gbWVhc3VyZW1lbnRzIG9mIG1lbGFub3BpYyBFREkgKGx4KQ==\"><span class='gt_from_md'>values show: <strong>mean</strong> ±sd (min - max) and are all based on measurements of melanopic EDI (lx)</span></span></td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>1</sup></span> Histogram limits are set from 00:00 to 24:00</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>2</sup></span> Metrics are calculated on a by-participant-day basis (n=18) with the exception of IV and IS, which are calculated on a by-participant basis (n=3).</td>\n    </tr>\n    <tr>\n      <td class=\"gt_footnote\" colspan=\"5\"><span class=\"gt_footnote_marks\" style=\"white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;\"><sup>3</sup></span> <span data-qmd-base64=\"VmFsdWVzIHdlcmUgbG9nIDEwIHRyYW5zZm9ybWVkIHByaW9yIHRvIGF2ZXJhZ2luZywgd2l0aCBhbiBvZmZzZXQgb2YgMC4xLCBhbmQgYmFja3RyYW5zZm9ybWVkIGFmdGVyd2FyZHM=\"><span class='gt_from_md'>Values were log 10 transformed prior to averaging, with an offset of 0.1, and backtransformed afterwards</span></span></td>\n    </tr>\n  </tfoot>\n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\n# summary_table |> gtsave(\"assets/table_summary.png\", vwidth = 820)\n```\n:::\n\n\n\n\n\n\n## Processing & states\n\n`LightLogR` contains many functions to manipulate, expand, or condense datasets. We will highlight the most important ones.\n\n### `aggregate_Datetime()`\n\n`aggregate_Datetime()` is a general‑purpose resampling utility that bins observations into fixed‑duration intervals and computes a summary statistic per bin. It is intentionally opinionated, providing sensible defaults (e.g., mean for numeric columns and mode for character/factor columns), but all summaries are configurable and additional metrics can be requested. Use it as a lightweight formatter to change the effective measurement interval after the fact (e.g., re‑epoching from 10 s to 1 min).\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  dataset |> \n  aggregate_Datetime(\"1 hour\") |> #try to set different units: \"15 mins\", \"2 hours\",...\n  gg_days(aes_col = Id)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-60-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n### `aggregate_Date()`\n\n`aggregate_Date()` is a companion function that collapses each group into a single 24‑hour profile, optionally re‑epoching the data in the process. It is well‑suited to very large datasets when you need an overview of the *average day*. It applies the same summarization rules as `aggregate_Datetime()` and is equally configurable to your requirements:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  aggregate_Date(unit = \"5 minutes\") |> \n  gg_days(aes_col = Id)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-61-1.png){width=768}\n:::\n:::\n\n\n\n\n\n\n### `gg_doubleplot()`\n\n`aggregate_Date()` pairs well with `gg_doubleplot()`, which duplicates each day with an offset to reveal patterns that span midnight. While it can be applied to any dataset, use it on only a handful of days at a time to keep plots readable. If the dataset it is called on contains more than one day `gg_doubleplot()` defaults to displaying the next day instead of duplicating the same day.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  aggregate_Date(unit = \"30 minutes\") |> \n  gg_doubleplot(aes_col = Id, aes_fill = Id)\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-62-1.png){width=768}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# it is recommended to add photoperiod information after aggregating to the Date\n# level and prior to the doubleplot for best results.\ndataset |> \n  aggregate_Date(unit = \"30 minutes\") |> \n  add_photoperiod(coordinates, overwrite = TRUE) |>\n  gg_doubleplot(aes_fill = Id) |>\n  gg_photoperiod()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-63-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n\n### Beyond inital variables\n\nBoth `aggregate_Datetime()` and `aggregate_Date()` allow for the calculation of additional metrics within their respective bins. One use case is to gauge the spread of the data within certain times. A simple approach is to plot the minimum and maximum value of a dataset that was condensed to a single day.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset |> \n  aggregate_Date(unit = \"30 minutes\",\n                 lower = min(MEDI), #create new variables...\n                 upper = max(MEDI)  #...as many as needed\n                 ) |> \n  gg_doubleplot(geom = \"blank\") + # use gg_doubleplot only as a canvas\n  geom_ribbon(aes(ymin = lower, ymax = upper, fill = Id), alpha = 0.5) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-64-1.png){width=768}\n:::\n:::\n\n\n\n\n\n\n### States\n\nStates, in the context of LightLogR, means any non-numeric variable. Those can be part of the dataset, be calculated from the dataset (e.g., mel EDI >= 250 lx), or added from an external source. We showcase some capabilities by dividing the dataset into sections by the Brown et al. (2022) recommendations for healthy lighting, using the `Brown_cut()` function.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_1day <- \ndataset |> \n  Brown_cut() |> #creating a column with the cuts\n  aggregate_Date(unit = \"30 minutes\", \n                 numeric.handler = median #note that we switched from mean to median\n                 ) |> \n  mutate(state = state |> fct_relevel(\"≥250lx\", \"≤10lx\", \"≤1lx\")) #order the levels\n```\n:::\n\n\n\n\n\n\n#### `gg_state()`\n\n`gg_state()` augments an existing plot by adding background rectangles that mark state intervals. When multiple states are present, map them to distinct fills (or colors) to improve readability.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_1day |> \n  gg_doubleplot(col = \"black\", alpha = 1, geom = \"line\") |>\n  gg_state(State.colname = state, aes_fill = state) +\n  labs(fill = \"Brown levels\")\n```\n\n::: {.cell-output-display}\n![](beginner_files/figure-html/unnamed-chunk-66-1.png){width=768}\n:::\n:::\n\n\n\n\n\n\n### `durations()`\n\nIf you need a numeric summary of states, `durations()` computes the total time spent in each state per grouping (e.g., by `Id`, by day). With a small reshaping step, you can produce a tidy table showing the average duration each participant spends in each state:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_1day |> \n  group_by(state, .add = TRUE) |> #adding Brown states to the grouping\n  durations(MEDI) |> #calculating durations\n  ungroup() |>  #remove all grouping\n  mutate(state = fct_na_value_to_level(state, \"10-250lx\")) |> #name NA level\n  pivot_wider(id_cols = Id, names_from = state, values_from = duration) |> #reshape\n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kwmpnvbjym\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kwmpnvbjym table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kwmpnvbjym thead, #kwmpnvbjym tbody, #kwmpnvbjym tfoot, #kwmpnvbjym tr, #kwmpnvbjym td, #kwmpnvbjym th {\n  border-style: none;\n}\n\n#kwmpnvbjym p {\n  margin: 0;\n  padding: 0;\n}\n\n#kwmpnvbjym .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kwmpnvbjym .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kwmpnvbjym .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kwmpnvbjym .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kwmpnvbjym .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kwmpnvbjym .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kwmpnvbjym .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kwmpnvbjym .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kwmpnvbjym .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kwmpnvbjym .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kwmpnvbjym .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kwmpnvbjym .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kwmpnvbjym .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kwmpnvbjym .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kwmpnvbjym .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwmpnvbjym .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kwmpnvbjym .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kwmpnvbjym .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kwmpnvbjym .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwmpnvbjym .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kwmpnvbjym .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwmpnvbjym .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kwmpnvbjym .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwmpnvbjym .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kwmpnvbjym .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kwmpnvbjym .gt_left {\n  text-align: left;\n}\n\n#kwmpnvbjym .gt_center {\n  text-align: center;\n}\n\n#kwmpnvbjym .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kwmpnvbjym .gt_font_normal {\n  font-weight: normal;\n}\n\n#kwmpnvbjym .gt_font_bold {\n  font-weight: bold;\n}\n\n#kwmpnvbjym .gt_font_italic {\n  font-style: italic;\n}\n\n#kwmpnvbjym .gt_super {\n  font-size: 65%;\n}\n\n#kwmpnvbjym .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kwmpnvbjym .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kwmpnvbjym .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kwmpnvbjym .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kwmpnvbjym .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kwmpnvbjym .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kwmpnvbjym .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kwmpnvbjym .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kwmpnvbjym div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Id\">Id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a≥250lx\">≥250lx</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a≤10lx\">≤10lx</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a≤1lx\">≤1lx</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a10-250lx\">10-250lx</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">216</td>\n<td headers=\"≥250lx\" class=\"gt_row gt_center\">21600s (~6 hours)</td>\n<td headers=\"≤10lx\" class=\"gt_row gt_center\">14400s (~4 hours)</td>\n<td headers=\"≤1lx\" class=\"gt_row gt_center\">23400s (~6.5 hours)</td>\n<td headers=\"10-250lx\" class=\"gt_row gt_center\">27000s (~7.5 hours)</td></tr>\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">218</td>\n<td headers=\"≥250lx\" class=\"gt_row gt_center\">10800s (~3 hours)</td>\n<td headers=\"≤10lx\" class=\"gt_row gt_center\">5400s (~1.5 hours)</td>\n<td headers=\"≤1lx\" class=\"gt_row gt_center\">28800s (~8 hours)</td>\n<td headers=\"10-250lx\" class=\"gt_row gt_center\">48600s (~13.5 hours)</td></tr>\n    <tr><td headers=\"Id\" class=\"gt_row gt_right\">219</td>\n<td headers=\"≥250lx\" class=\"gt_row gt_center\">7200s (~2 hours)</td>\n<td headers=\"≤10lx\" class=\"gt_row gt_center\">23400s (~6.5 hours)</td>\n<td headers=\"≤1lx\" class=\"gt_row gt_center\">27000s (~7.5 hours)</td>\n<td headers=\"10-250lx\" class=\"gt_row gt_center\">28800s (~8 hours)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n### `extract_states()` & `summarize_numeric()`\n\nIf your interest in states centers on *individual occurrences* - for example, how often a state occurred, how long each episode persisted, or when episodes began - use the following tools. `extract_states()` returns an occurrence‑level table (one row per episode) with start/end times and durations; `summarize_numeric()` then aggregates those episodes into concise metrics (e.g., counts, total duration, mean/median episode length) by the grouping you specify.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_1day |> \n  extract_states(state) |> \n  summarize_numeric() |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"dypxfyafry\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dypxfyafry table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dypxfyafry thead, #dypxfyafry tbody, #dypxfyafry tfoot, #dypxfyafry tr, #dypxfyafry td, #dypxfyafry th {\n  border-style: none;\n}\n\n#dypxfyafry p {\n  margin: 0;\n  padding: 0;\n}\n\n#dypxfyafry .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dypxfyafry .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dypxfyafry .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dypxfyafry .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dypxfyafry .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dypxfyafry .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dypxfyafry .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dypxfyafry .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dypxfyafry .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dypxfyafry .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dypxfyafry .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dypxfyafry .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dypxfyafry .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dypxfyafry .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dypxfyafry .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dypxfyafry .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dypxfyafry .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dypxfyafry .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dypxfyafry .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dypxfyafry .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dypxfyafry .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dypxfyafry .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dypxfyafry .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dypxfyafry .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dypxfyafry .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dypxfyafry .gt_left {\n  text-align: left;\n}\n\n#dypxfyafry .gt_center {\n  text-align: center;\n}\n\n#dypxfyafry .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dypxfyafry .gt_font_normal {\n  font-weight: normal;\n}\n\n#dypxfyafry .gt_font_bold {\n  font-weight: bold;\n}\n\n#dypxfyafry .gt_font_italic {\n  font-style: italic;\n}\n\n#dypxfyafry .gt_super {\n  font-size: 65%;\n}\n\n#dypxfyafry .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dypxfyafry .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dypxfyafry .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dypxfyafry .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dypxfyafry .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dypxfyafry .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dypxfyafry .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#dypxfyafry .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#dypxfyafry div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"state\">state</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_epoch\">mean_epoch</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_start\">mean_start</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_end\">mean_end</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"mean_duration\">mean_duration</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_duration\">total_duration</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"episodes\">episodes</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"7\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"216\">216</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"216  state\" class=\"gt_row gt_center\">≥250lx</td>\n<td headers=\"216  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"216  mean_start\" class=\"gt_row gt_center\">12:45:00</td>\n<td headers=\"216  mean_end\" class=\"gt_row gt_center\">15:45:00</td>\n<td headers=\"216  mean_duration\" class=\"gt_row gt_center\">10800s (~3 hours)</td>\n<td headers=\"216  total_duration\" class=\"gt_row gt_center\">21600s (~6 hours)</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"216  state\" class=\"gt_row gt_center\">≤10lx</td>\n<td headers=\"216  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"216  mean_start\" class=\"gt_row gt_center\">14:00:00</td>\n<td headers=\"216  mean_end\" class=\"gt_row gt_center\">16:00:00</td>\n<td headers=\"216  mean_duration\" class=\"gt_row gt_center\">7200s (~2 hours)</td>\n<td headers=\"216  total_duration\" class=\"gt_row gt_center\">14400s (~4 hours)</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"216  state\" class=\"gt_row gt_center\">≤1lx</td>\n<td headers=\"216  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"216  mean_start\" class=\"gt_row gt_center\">01:15:00</td>\n<td headers=\"216  mean_end\" class=\"gt_row gt_center\">07:45:00</td>\n<td headers=\"216  mean_duration\" class=\"gt_row gt_center\">23400s (~6.5 hours)</td>\n<td headers=\"216  total_duration\" class=\"gt_row gt_center\">23400s (~6.5 hours)</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"216  state\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"216  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"216  mean_start\" class=\"gt_row gt_center\">17:27:00</td>\n<td headers=\"216  mean_end\" class=\"gt_row gt_center\">14:09:00</td>\n<td headers=\"216  mean_duration\" class=\"gt_row gt_center\">5400s (~1.5 hours)</td>\n<td headers=\"216  total_duration\" class=\"gt_row gt_center\">27000s (~7.5 hours)</td>\n<td headers=\"216  episodes\" class=\"gt_row gt_right\">5</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"7\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"218\">218</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"218  state\" class=\"gt_row gt_center\">≥250lx</td>\n<td headers=\"218  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"218  mean_start\" class=\"gt_row gt_center\">14:00:00</td>\n<td headers=\"218  mean_end\" class=\"gt_row gt_center\">14:30:00</td>\n<td headers=\"218  mean_duration\" class=\"gt_row gt_center\">1800s (~30 minutes)</td>\n<td headers=\"218  total_duration\" class=\"gt_row gt_center\">3600s (~1 hours)</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"218  state\" class=\"gt_row gt_center\">≤10lx</td>\n<td headers=\"218  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"218  mean_start\" class=\"gt_row gt_center\">15:45:00</td>\n<td headers=\"218  mean_end\" class=\"gt_row gt_center\">04:30:00</td>\n<td headers=\"218  mean_duration\" class=\"gt_row gt_center\">2700s (~45 minutes)</td>\n<td headers=\"218  total_duration\" class=\"gt_row gt_center\">5400s (~1.5 hours)</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"218  state\" class=\"gt_row gt_center\">≤1lx</td>\n<td headers=\"218  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"218  mean_start\" class=\"gt_row gt_center\">11:45:00</td>\n<td headers=\"218  mean_end\" class=\"gt_row gt_center\">15:45:00</td>\n<td headers=\"218  mean_duration\" class=\"gt_row gt_center\">14400s (~4 hours)</td>\n<td headers=\"218  total_duration\" class=\"gt_row gt_center\">28800s (~8 hours)</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"218  state\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"218  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"218  mean_start\" class=\"gt_row gt_center\">12:25:00</td>\n<td headers=\"218  mean_end\" class=\"gt_row gt_center\">16:55:00</td>\n<td headers=\"218  mean_duration\" class=\"gt_row gt_center\">16200s (~4.5 hours)</td>\n<td headers=\"218  total_duration\" class=\"gt_row gt_center\">48600s (~13.5 hours)</td>\n<td headers=\"218  episodes\" class=\"gt_row gt_right\">3</td></tr>\n    <tr class=\"gt_group_heading_row\">\n      <th colspan=\"7\" class=\"gt_group_heading\" scope=\"colgroup\" id=\"219\">219</th>\n    </tr>\n    <tr class=\"gt_row_group_first\"><td headers=\"219  state\" class=\"gt_row gt_center\">≥250lx</td>\n<td headers=\"219  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"219  mean_start\" class=\"gt_row gt_center\">11:45:00</td>\n<td headers=\"219  mean_end\" class=\"gt_row gt_center\">12:45:00</td>\n<td headers=\"219  mean_duration\" class=\"gt_row gt_center\">3600s (~1 hours)</td>\n<td headers=\"219  total_duration\" class=\"gt_row gt_center\">7200s (~2 hours)</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"219  state\" class=\"gt_row gt_center\">≤10lx</td>\n<td headers=\"219  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"219  mean_start\" class=\"gt_row gt_center\">17:25:00</td>\n<td headers=\"219  mean_end\" class=\"gt_row gt_center\">11:35:00</td>\n<td headers=\"219  mean_duration\" class=\"gt_row gt_center\">7800s (~2.17 hours)</td>\n<td headers=\"219  total_duration\" class=\"gt_row gt_center\">23400s (~6.5 hours)</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"219  state\" class=\"gt_row gt_center\">≤1lx</td>\n<td headers=\"219  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"219  mean_start\" class=\"gt_row gt_center\">00:45:00</td>\n<td headers=\"219  mean_end\" class=\"gt_row gt_center\">08:15:00</td>\n<td headers=\"219  mean_duration\" class=\"gt_row gt_center\">27000s (~7.5 hours)</td>\n<td headers=\"219  total_duration\" class=\"gt_row gt_center\">27000s (~7.5 hours)</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"219  state\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"219  mean_epoch\" class=\"gt_row gt_right\">1800</td>\n<td headers=\"219  mean_start\" class=\"gt_row gt_center\">11:55:00</td>\n<td headers=\"219  mean_end\" class=\"gt_row gt_center\">14:35:00</td>\n<td headers=\"219  mean_duration\" class=\"gt_row gt_center\">9600s (~2.67 hours)</td>\n<td headers=\"219  total_duration\" class=\"gt_row gt_center\">28800s (~8 hours)</td>\n<td headers=\"219  episodes\" class=\"gt_row gt_right\">3</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n## It's a wrap\n\nThis concludes the first part of the `LightLogR` tutorial. We hope it has given you a nice introduction to the package and convinced you to try it out with your own data and in your local installation. For more on `LightLogR`, we recommend the [documentation page](https://tscnlab.github.io/LightLogR/). If you want to stay up to date with the development of the package, you can sign up to our [LightLogR mailing list](https://lists.lrz.de/mailman/listinfo/lightlogr-users).\n",
    "supporting": [
      "beginner_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}